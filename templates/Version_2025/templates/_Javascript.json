{"content":"\n\/\/ EDITION\nccppm_global.edition \t\t\t= '44'; \nccppm_global.editionYear \t\t= '2024';\nccppm_global.editionDates \t\t= 'Du 15 au 23 novembre 2024';\nccppm_global.tributeTo \t\t\t= ''; \nccppm_global.indexDisclaimer \t= ''; \/\/#40 '\u2014 En raison de la crise sanitaire, les horaires des projections seront communiqu\u00e9s ult\u00e9rieurement\\n sur le site, les r\u00e9seaux sociaux et dans les salles de cinema \u2014'\n\n\/\/ IDs des SECTIONS\n  \t\/*\tMEMO \/ Mis en place de la gestion des affichages du contenu suivant les sections\n        * Mettre \u00e0 jour les id\u00e9es des sections suivant l'\u00e9dition\n\n        Competition : \n        * Les films sont remplis dans les sections filles uniquement pas parent.\n        \n        Competition CM :\n        * Les films sont remplis en doublon dans les sections filles (les proogrammes) et \u00e0 la fois parent.\n    *\/\n\/\/ Edition \nccppm_global.currentEditionID \t= '386'; \/\/ #43 \/\/ Permet d'exclure la section dans l'index\n\/\/ Compet\nccppm_global.competitionID \t\t= '388'; \/\/ Attention, tout en string et non integer\nccppm_global.competitionLMID \t= '391'; \nccppm_global.competitionDCID \t= '390'; \/\/ Docu ou Moyens\n\/\/ CM \nccppm_global.competitionCMID \t= '389';\nccppm_global.competitionCM1ID \t= '';\nccppm_global.competitionCM2ID \t= '';\nccppm_global.competitionCM3ID \t= '';\n\n\/\/ Cas particuliers\nccppm_global.ouvertureID \t\t= '387';\nccppm_global.exclusionID \t\t= ''; \/\/ ( exemple : Bunuel dans le 39 il s'agissait d'un exclusion )\n\/\/ Cas particuliers 40\nccppm_global.exclusionLesDeuxAlfreds = 0; \/\/ 40 : Cas tres particulier pour afficher un film en entier dans Film_plein_page_A5_FINAL alors qu'il n'est pas en ouverture. ATTENTION integer et non string \n\/\/ Cas particulier 42, 43 \nccppm_global.displayFilmsA5asA4 \t= [77976]; \/\/ Afficher tout de meme une fiche film complete ( synopsis long, filmo, career, awards .. ) pour cette liste de film #42, #43 \u003E sert par exmeple pour affiche le synopsis de l'ouverture en A5 \n\n\/\/ IDs des FILMS \nccppm_global.filmOpeningID = 87330; \/\/ #43 77976 \/\/ Attention, tout en integer et non string\nccppm_global.filmClosingID = 89543; \/\/ #43 78905 \/\/ Attention, tout en integer et non string\n\n\/\/ OPTIONS CONTENT\nccppm_global.showSynopsisFR = true;\nccppm_global.showSynopsisUK = false;\nccppm_global.showOpinions = true;\n\n\/\/ GENERAL \n\/\/ Unit\u00e9 : 1mm = 2,834666666666667\nccppm_global.catalogueID = 'A4'; \/\/ Define pageSize - A4 default \nccppm_global.pageSize = { width: 595.28, height: 841.89 }; \/\/ A4: [595.28, 841.89], A5: [419.53, 595.28], 21x28: [595.28, 793.7066666676]\nccppm_global.masterMargins = [60,40,40,40];\nccppm_global.insideMargins = [55,15,40,0]; \/\/ [20,40,20,0];\nccppm_global.cropMarksLength = 0;\nccppm_global.cropMarksLengthForImages = 0; \/\/ reduced bord tournant for images\nccppm_global.cropMarksSpace = 0;\nccppm_global.renderDpi = 9;\n\n\/\/ COLORS \nccppm_global.iconColor = 'black'; \/\/ #41\nccppm_global.editionColor = [43,55,0,0]; \/\/[43,55,0,0]; \/\/ #43\nccppm_global.black = 'black'; \/\/ [0,0,0,100] override dans le Master si c'est un master PRINT \nccppm_global.openingClosingColor = [90,100,0,0];\n\n\/\/ PROJECTIONS\nccppm_global.showProjections = true;\n\n\/\/ CALAGE \nccppm_global.tabWidth = 28.5;\nccppm_global.filmMargins = 45; \/\/38\nccppm_global.filmFirstColWidth = 118; \nccppm_global.imContactWidth = 116; \/\/ #40 116 \nccppm_global.imFilmWidth = 603.784; \/\/ 213 mm ( avec coupe ) :  603.784 \/ 210mm ( sans coupe \u003E WEB ) : 595.28\nccppm_global.cropMarksBleedOff = 8.504; \/\/ A remplacer partout par ccppm_global.cropMarksBleedOff\nccppm_global.cropMarksBleedOff = 0; \/\/ Overrider dans un master avec Crops marks  \n\n\/\/ TOC \nccppm_global.tocMarginLevel1 = [0, 0, 0, 0];\nccppm_global.tocMarginLevel2 = [20, 0, 0, 0];\nccppm_global.tocMarginLevel3 = [40, 0, 0, 0];\nccppm_global.tocStyleLevel1 = {bold: true, fontSize:8.5, lineHeight: 1, characterSpacing: 0.1,};\nccppm_global.tocStyleLevel2 = {bold: false, fontSize:7.5, lineHeight: 1, characterSpacing: 0.1,};\nccppm_global.tocStyleLevel3 = {bold: false, fontSize:7, lineHeight: 1, color:[0,0,0,50], characterSpacing: 0.2,};\n\n\/\/ TYPO \nccppm_global.stylefilm_impactnumber1 = 45;\nccppm_global.stylefilm_impactnumber2 = 39;\nccppm_global.stylefilm_impactnumber3 = 33;\nccppm_global.stylefilm_impactnumber4 = 28;\nccppm_global.stylefilm_title1 = 25;\nccppm_global.stylefilm_title2 = 20;\nccppm_global.stylefilm_title3 = 16;\nccppm_global.stylefilm_title4 = 14;\n\n\/\/ SECTIONS\nccppm_global.breakSectionPosition = 0;\nccppm_global.sectionSubSectionDisplayIn = 3;\nccppm_global.cursorInPage = 0;\nccppm_global.halfSectionsHavePageBreak = 'no'; \/\/ #41 Permet de placer des demipubs apres les sections 2 films \/ page \nccppm_global.sectionImageOpacity = 1; \/\/ #43 .35 #42 .9 #40 0.35 \nccppm_global.sectionsHaveFilmography = true; \/\/ #41\nccppm_global.sectionFilmPerPage = 1; \/\/ #41\nccppm_global.sectionsHaveDescription = true; \/\/ #41\nccppm_global.hideHorizontalRuleForFilmsPerPage = true; \/\/ #43 \u003E false avt 43 !\n\n\/\/ ACCREDITATIONS\nccppm_global.get_availabilities_days = function() {\n\treturn {\n    'availability_1':'15\/11\/2024',\n    'availability_2':'16\/11\/2024',\n    'availability_3':'17\/11\/2024',\n    'availability_4':'18\/11\/2024',\n    'availability_5':'19\/11\/2024',\n    'availability_6':'20\/11\/2024',\n    'availability_7':'21\/11\/2024',\n    'availability_8':'22\/11\/2024',\n    'availability_9':'23\/11\/2024',\n  };\n} \/\/ #43\n\n\/\/ i18n : translating strings as qx_translate e.q. to __(); in wordpress context\n\/\/ [:fr]....[:en]....[:]\nccppm_global.translate = function(text) {\n  let re = \/\\[:[a-zA-Z0-9]+\\][^\\[]+\\[:\\]\/;\n  let re2 = \/\\[:([a-zA-Z0-9]+)\\]([^\\[]+)\\[:\\]\/;\n  var groups = text.match(re);\n  if (groups) groups.forEach(function(group) {\n    let matchs = re2.exec(group);\n    let locale = matchs[1];\n    let content = matchs[2];\n   \ttext = text.replace(group, content);\n  });\n  return text;\n}\n\n\/\/ PROJECTIONS (INDEX) \u003E Utiliser pour les PDF internes \nccppm_global.display_projection = function(t_projection, data) {\n  var $ = jQuery;\n  var projection = [];\n  sections = {};\n  var tag_colors = {\n      'Avant-premi\u00e8re': ccppm_global.editionColor,\n      'S\u00e9ance commerciale': [100, 0, 0, 0],\n  }\n  var fontSizeLevel1 = 12; \n  var fontSizeLevel2 = 7; \n  var colorLevel1 = ccppm_global.black; \n  var colorLevel2 = [0,0,0,75]; \n  \/\/  console.log(t_projection);\n  var movie_title = [];\n  if (t_projection.film.length) {\n    $.each(t_projection.film, function(t_film_idx, t_film_id) {\n      var t_film = data.films[t_film_id];\n      $.each(t_film.section, function(t_section_idx, t_section) {\n        if (t_section.color) {\n          sections[t_section.term_id] = t_section.color;\n        }\n      });\n      if (t_film.post_title) {\n        var title = t_film.post_title;\n        if (t_film.french_operating_title)\n          title = t_film.french_operating_title;\n        if (t_film.catalog_tag && tag_colors[t_film.catalog_tag])\n          movie_title.push({text: title, style: 'filmTitle', color: tag_colors[t_film.catalog_tag]});\n        else\n          movie_title.push({text: title, style: 'filmTitle'});\n        movie_title.push(' (');\n        movie_title.push({text: t_film.movie_length, style: 'filmLength'});\n        movie_title.push('\\')');\n      } else {\n        movie_title.push({text:'! Erreur ' + t_film_id + ' !', style:'error'});\n      }\n\t\t\n    });\n  } else {\n    movie_title.push({text: t_projection.post_title, style:'eventTitle'});\n  }\n  if (t_projection.is_guest)\n    movie_title.push({text: ' ', style: 'spaceBeforeIcon'},{text:'g', font: 'Fifam', style: 'filmIcon'});\n  if (t_projection.young_public)\n    movie_title.push({text: ' ', style: 'spaceBeforeIcon'},{text:'y', font: 'Fifam', style: 'filmIcon'});\n\/\/  projection.push({text: projection, style: 'projectionCell'});\n  \/\/ return false; \/\/ s'arreter apr\u00e8s la premi\u00e8re projection\n  $.each(sections, function(t_section_id, t_section_color) {\n    movie_title.push({text: ' \u2022', color: t_section_color, style: 'filmSection'});\n  });\n  movie_title.push({text: ' '});\n  movie_title.push({text: t_projection.start_and_stop_time.begin, bold: true});\n  movie_title.push({text: ' \u003E '});\n  movie_title.push({text: t_projection.start_and_stop_time.end});\n  projection.push({text: movie_title});\n  projection.push({text: t_projection.format, bold:true, fontSize: fontSizeLevel2, color: colorLevel2});\n\n  var timing = [];\n  timing.push('Temps de titrage: ');\n  timing.push((t_projection.titration_time)?t_projection.titration_time:'0');\n  timing.push(' \u2022 Temps d\\'entr\u00e9e: ');\n  timing.push((t_projection.room_entrance_time)?t_projection.room_entrance_time:'0');\n  timing.push(' \u2022 Temps de sortie: ');\n  timing.push((t_projection.room_release_time)?t_projection.room_entrance_time:'15');\n  projection.push({text: timing, fontSize: fontSizeLevel2, color: colorLevel2});\n  \n  if (t_projection.is_guest) {\n    var invited = [];\n    invited.push('Avec invit\u00e9\u00b7e: ');\n    if (t_projection.guest) {\n      invited.push(t_projection.guest.firstname+' '+t_projection.guest.name);\n      invited.push(' ('+t_projection.guest.language+')');\n    } else {\n      invited.push({text: 'Indetermin\u00e9', color: 'red'});\n    }\n    \n    projection.push({text: invited, fontSize: fontSizeLevel2, color: colorLevel2});\n  }\n  \n  if (t_projection.young_public) {\n    projection.push({text: 'Parents-enfants', fontSize: fontSizeLevel2, color: colorLevel2});\n  }\n\n  if (t_projection.translator) {\n    var translator = [];\n    translator.push('Traducteur: ');\n    translator.push(t_projection.translator_name);\n    translator.push(' \/ ');\n    translator.push(t_projection.translator_languages);\n    projection.push({text: translator, fontSize: fontSizeLevel2, color: colorLevel2});\n  }  \n  \n  if (t_projection.equipement) {\n\tprojection.push({text: 'Equipement: '+t_projection.equipement, fontSize: fontSizeLevel2, color: colorLevel2});\n  }\n  \n  if (t_projection.copy_number) {\n    projection.push({text: 'Copy number: '+t_projection.copy_number, fontSize: fontSizeLevel2, color: colorLevel2});\n  }\n\n  if (t_projection.dvd_number) {\n    projection.push({text: 'DVD number: '+t_projection.dvd_number, fontSize: fontSizeLevel2, color: colorLevel2});\n  }\n\n  if (t_projection.bluray_number) {\n    projection.push({text: 'Bluray number: '+t_projection.bluray_number, fontSize: fontSizeLevel2, color: colorLevel2});\n  }\n  \n  if (t_projection.note) {\n    projection.push({text: 'Note: '+t_projection.note, fontSize: fontSizeLevel2, color: colorLevel2});\n  }\n\n  if (t_projection.tag) {\n    projection.push({text: 'Tag: '+t_projection.tag, fontSize: fontSizeLevel2, color: colorLevel2});\n  }\n    \n  if (t_projection.notice_internal) {\n    projection.push({text: 'Notice interne: '+t_projection.notice_internal, fontSize: fontSizeLevel2, color: colorLevel2});\n  }\n    \n  projection.push({text: ' ', fontSize: 6});\n  return projection;\n}\n\n\/\/ Rotated text to SVG \n\/\/var Stereonic = 'Stereonic'; \/\/'Stereonic' #39\n\/\/var Bureau_Grot = 'Bureau_Grot'; \/\/'Bureau_Grot' #39\n\/\/var Stereonic_Bold = 'Stereonic_Bold'; \/\/'Stereonic' #40\n\/\/var Bureau_Grot_Condensed = 'Bureau_Grot_Condensed'; \/\/'Stereonic' #40\nccppm_global.writeRotatedTextSVG = function(text) {\n\/\/  var fontSize = (ccppm_global.catalogueID=='A4')?10:8; \/\/ #40\n  var fontSize = (ccppm_global.catalogueID=='A4')?8:6; \/\/ #41\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?(fontSize*1):(fontSize*1); \/\/Modif #41\n\n  var height = (ccppm_global.catalogueID=='A4')?20:17;\n  \/\/ Measure text width\n  var ctxM, canvasM = document.createElement('canvas');\n  var ctxM = canvasM.getContext(\"2d\");\n  ctxM.font = fontSizeCanvas+'pt Bureau Grot Bold'; \/\/  #40 = Stereonic \u003E Nom opentype de la typo ? KO \/ ctxM.font = fontSize+'pt Stereonic'; #39 \/\/ #41 ajout fontSizeCanvas\n  var width = ctxM.measureText(text).width;\n  \n  \/\/ Correcting width \u003E better than fontsizeCanvas \/\/#41\n  width = (ccppm_global.catalogueID=='A4')?(width*1.4):(width*1.39)\n  if (ccppm_global.isSafari==true)\n  width = (ccppm_global.catalogueID=='A4')?(width*.97):(width*.99)\n\n  \n  var ctx, canvas = document.createElement('canvas');\n  ctx = new C2S(40,width)\n  ctx.font = fontSize+'pt Bureau Grot Bold'; \/\/ #40 = Stereonic \u003E  Nom opentype de la typo ? KO \/ ctx.font = fontSize+'pt Stereonic'; #39\n  ctx.save();\n  ctx.translate(height,width);\n  ctx.rotate(-90*Math.PI\/180); \/\/degrees*Math.PI\/180\n  \n\/\/  ctx.fillStyle = '#F00'; \/\/ Rect de controle\n\/\/  ctx.fillRect(0, -12, width, height); \/\/ Rect de controle\n  \n  ctx.fillStyle = '#FFF';\n  ctx.fillText(text , 0, 0);\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n    \n  ctx.restore();\n  return ctx.getSerializedSvg(true);\n};\n\n\nccppm_global.writeRotatedFramedTextSVG = function(text) {\n  var fontSize = (ccppm_global.catalogueID=='A4')?7:5;\n  \/\/var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?4.9:(fontSize\/1.458); \/\/Modif 2020 = 4.8:(fontSize\/1.458)\n   var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?(fontSize*.5):(fontSize*.5); \/\/Modif #41\n\n  var height = (ccppm_global.catalogueID=='A4')?20:17;\n  \/\/ Measure text width\n  var ctxM, canvasM = document.createElement('canvas');\n  var ctxM = canvasM.getContext(\"2d\");\n  ctxM.font = fontSizeCanvas+'pt Bureau Grot Condensed'; \/\/ #40 = Bureau Grot Condensed \u003E Nom opentype de la typo ? KO \/  ctxM.font = fontSizeCanvas+'pt Bureau Grot'; #39\n  var width = ctxM.measureText(text).width;\n\n  \/\/ Correcting width \u003E better than fontsizeCanvas \/\/#41\n  width = (ccppm_global.catalogueID=='A4')?(width*1.5):(width*1.5)\n  if (ccppm_global.isSafari==true)\n  width = (ccppm_global.catalogueID=='A4')?(width*1.8):(width*1.8)\n  \/\/ Test #42 \u003E 1.2 en 41 FF vers 1.8 en 42 \u003E\u003E\u003E A VERIF en 43 \n  \n  \/\/ Render text\n  var ctx, canvas = document.createElement('canvas');\n  ctx = new C2S(40,width)\n  ctx.font = fontSize+'pt Bureau Grot Condensed'; \/\/ #40 Nom opentype de la typo ? KO \/  ctx.font = fontSize+'pt Bureau Grot'; #39\n  ctx.save();\n  ctx.translate(height,width);\n  ctx.rotate(-90*Math.PI\/180); \/\/degrees*Math.PI\/180\n  \n\/\/  ctx.fillStyle = '#0FF'; \/\/ Rect de controle\n\/\/  ctx.fillRect(0, -12, width, height); \/\/ Rect de controle\n  \n  ctx.fillStyle = '#FFF';\n  ctx.fillText(text , 0, -.5); \/\/ #40 (text , 0, -1);\n  ctx.textAlign = 'left';\n  ctx.textBaseline = 'middle';\n  ctx.restore();\n  return ctx.getSerializedSvg(true);\n};\n\nccppm_global.rotatedTextTableBody = function(tab) {\n  var r_tab = []\n  \/\/tab.subtitle = 'Lorem ipsum'\n  r_tab.push([{text:' ', font: 'Bureau_Grot_Bold', bold:false, fontSize:0}]); \/\/ font: 'Stereonic_Bold', bold:false, #39 \n  if (tab.title)\n    r_tab.push([{\n        \/\/svg: ccppm_global.writeRotatedTextSVG(tab.title.toUpperCase()),\n        svg: ccppm_global.writeRotatedTextSVG(tab.title),\n    }]);\n  r_tab.push([{text:' ', font: 'Bureau_Grot_Condensed', bold:true, fontSize:0}]); \/\/ font: 'Bureau_Grot_Condensed', bold:true, #39\n  if (tab.subtitle)\n    r_tab.push([{\n        svg: ccppm_global.writeRotatedFramedTextSVG(tab.subtitle.toUpperCase()),\n    }]);\n  if (!r_tab.length)\n    r_tab = ['']\n  return r_tab;\n}\n\n\/\/ INDEX\nccppm_global.accentsTidy = function(s){\n    var r=s.toLowerCase();\n    r = r.replace(new RegExp(\/\\s\/g),\"\");\n    r = r.replace(new RegExp(\/[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]\/g),\"a\");\n    r = r.replace(new RegExp(\/\u00e6\/g),\"ae\");\n    r = r.replace(new RegExp(\/\u00e7\/g),\"c\");\n    r = r.replace(new RegExp(\/[\u00e8\u00e9\u00ea\u00eb]\/g),\"e\");\n    r = r.replace(new RegExp(\/[\u00ec\u00ed\u00ee\u00ef]\/g),\"i\");\n    r = r.replace(new RegExp(\/\u00f1\/g),\"n\");                \n    r = r.replace(new RegExp(\/[\u00f2\u00f3\u00f4\u00f5\u00f6]\/g),\"o\");\n    r = r.replace(new RegExp(\/\u0153\/g),\"oe\");\n    r = r.replace(new RegExp(\/[\u00f9\u00fa\u00fb\u00fc]\/g),\"u\");\n    r = r.replace(new RegExp(\/[\u00fd\u00ff]\/g),\"y\");\n    r = r.replace(new RegExp(\/\\W\/g),\"\");\n    return r;\n};\n\nccppm_global.globalIndex = {};\nccppm_global.globalIndexAppend = function (type, id, name, data=false) {\n  var t_id = ccppm_global.accentsTidy(id);\n  ccppm_global.globalIndex[t_id] = {name: name, data: data};\n  return t_id;\n}\n\nccppm_global.documentContentParser = function(documentContent) {\n\/\/  console.log(documentContent);\n  return documentContent; \n}\n\n\/\/ FCTS\nccppm_global.get_photo_credits = function(c_data) {\n\tif (c_data != '')\n      return c_data;\n  \telse\n      return '\u00a9DR';\n}\n\nccppm_global.get_color = function(color) {\n  \tconsole.log(color);\n  \tif ( color != false) {\n      \treturn color;\n    }\n\treturn ccppm_global.editionColor;\n}\n\nccppm_global.get_simplified = function(data) {\n\tif (data._name_simplified != '')\n      return data._name_simplified;\n  \telse\n      return data.post_title;\n}\n\nccppm_global.get_index_film_data = function (film, section = false) {\n  \tif (section == undefined)\n      return film;\n  \tif (section)\n      film['color_print'] = section['color_print'];\n    return film;\n}\n\nccppm_global.print_title = function(data, raw=false) {\n  \tif ( data.french_operating_title != false ) {\n      if ( raw == true )\n      \treturn data.french_operating_title+'  ('+data.post_title+')'; \n      else \n      \treturn [data.french_operating_title, '',{text: '  ('+data.post_title+')', style: 'titlealt', noWrap: true}]; \n    } else {\n      return data.post_title;\n    }\n}\n\nccppm_global.print_filmpartners = function(data, columns=false) {\n  var filmpartners = [];\n  var fp_logo = [];\n  var dimension = (ccppm_global.catalogueID=='A4')?60:20;\n  if (data.catalog_filmpartners != '') {\n    filmpartners.push({text: 'En partenariat avec', style:'intertitreAlt'});\n    $.each(data.catalog_filmpartners, function(idx, filmpartner) {\n        fp_logo.push(display_image(filmpartner, {width: dimension})); \/\/, 'r1_1'\n    });\n    if (ccppm_global.catalogueID == 'A5' || columns == true)\n      filmpartners.push({columns: fp_logo});\n    else\n      filmpartners.push(fp_logo);\n  }\n  return filmpartners;\n}\n\nccppm_global.print_filmimage = function(data) {\n  var filmimage = [];\n  if (data.catalog_picture != \"\") {\n      filmimage = data.catalog_picture;\n  } else {\n      filmimage = data.film_featured_image;\n  }\n  return filmimage;\n}\n\nccppm_global.print_punchlines = function(data, title='', el_class='punchlineTitle', add_class='') {\n  \t\/*\tMEMO\n        Catalogue A4 : \n        * Punchlines FR\/UK pr compet. \n        * Synopsis FR long pour compet.\n        * Pour tout le reste, short synopsis FR. \n        \n        Brochure A5 :\n        * Uniquement les punchlines FR pour TOUS les films\n    *\/\n  \tvar ret = [];\n  \t\/\/ Search for Competition section ID : 192  \/\/ -1 : not found \/ number : found index  \n    var sectionCompetition = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionID);\n    var sectionCompetitionLM = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionLMID);\n    var sectionCompetitionDC = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionDCID);\n    \/\/var sectionOuverture = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID);\n    \/\/ On gere le cas particulier de la saison 40 \/ Voir la variable globale pour explication\n\/\/ retir\u00e9 justin    var sectionOuverture = (data.id != ccppm_global.exclusionLesDeuxAlfreds)?data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID):-1;\n      var sectionOuverture = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID);\n    \/*if (data.id == ccppm_global.exclusionLesDeuxAlfreds && ccppm_global.catalogueID == 'A5')\n      sectionOuverture = 0;*\/\n\n\n\t\/\/ Punchline FR\n    if ( data.punchline_french == undefined || data.punchline_french == '' || data.punchline_french == \"-\")\n    \treturn '';\n\n  \tvar punchline_french = data.punchline_french;\n  \t\/\/ Si punchline UK a suivre, on supprime le . \n  \tif ( data.punchline_english != undefined && data.punchline_english != '' && ( sectionCompetition != -1 || sectionCompetitionLM != -1 || sectionCompetitionDC != -1 || sectionOuverture != -1 ) ) {\n    if (punchline_french.slice(-1) == '.' && punchline_french.slice(-3) != '...') \n  \t\tpunchline_french = data.punchline_french.slice(0, -1);\n    }\n  \n  \tret.push({text : punchline_french, style:'punchline'+add_class});\n  \t\/\/ret.push({ stack: [punchline_french], style:'punchline'});\n  \t\/\/ret.push({text : punchline_french, fontSize: 12, lineHeight: 1.3, font: 'Bureau_Grot', bold:false, color: [0,100,0,90], style:'punchline'});\n    \/* Correctif markdown FR\n    fontSize: 12, lineHeight: 1.3, font: 'Bureau_Grot', bold:false, color: [0,0,0,90]*\/\n\n  \t\/\/ Punchline UK\n  \tvar punchline_english = data.punchline_english;\n  \t\/\/ Si il n'y avait pas de punchline FR en amont, on supprime le . \n  \tif ( data.punchline_french != undefined && data.punchline_french != '') {\n    if (punchline_english.slice(-1) == '.' && punchline_english.slice(-3) != '...') \n  \t\tpunchline_english = data.punchline_english.slice(0, -1);\n    }\n\n  \tif ( data.punchline_english != undefined && data.punchline_english != '' && ( sectionCompetition != -1 || sectionCompetitionLM != -1 || sectionCompetitionDC != -1 || sectionOuverture != -1 ) )\n    \tret.push('  \u2022  ', {text : punchline_english, italics: true, color: [0,0,0,70], style:'punchlineAlt'+add_class});\n      \/* Correctif markdown UK\n    \tret.push('  \u2022  ', {text : punchline_english, fontSize: 13.8, lineHeight: 1.3, font: 'Mrs_Eaves_XL_Serif_OT', italics: true, color: [0,0,0,70], style:'punchlineAlt'+add_class});\n    fontSize: 13.8, lineHeight: 1.3, font: 'Mrs_Eaves_XL_Serif_OT', italics: true, color: [0,0,0,70]*\/\n\n  \tret.push('\\n\\n');\n  \t\/\/ Output\n    var output = [{text: ((title != '')?title+' ':''), style: el_class}];\n    $.each(ret, function(idx, element) {\n        output.push(element);\n      });\n    return output;\n}\n\nccppm_global.print_synopsis = function(data, title='', el_class='intertitre') {\n  \t\/*\tMEMO\n        Catalogue A4 : \n        * Synopsis FR long pour compet.\n        * Pour tout le reste, short synopsis FR. \n        \n        Brochure A5 :\n        * Pas de synopsis \n        #44 * on remets le synopsis en A5\n        \n      OK \u003E {text : '\u00b7 L\u2019histoire\\n', style : 'intertitre'},\n      {text : data.synopsis_french, style:'synopsis'},\n      {text : data.synopsis_french_alt, style:'synopsis'},\n      {text : data.synopsis_english, style:'synopsisAlt'},\n      {text : data.short_synopsis_french, style:'synopsis'},\n      {text : data.short_synopsis_english, style:'synopsisAlt'},\n      '\\n\\n',\n    *\/\n  \tvar ret = [];\n  \t\/\/ Search for Competition section ID : 192  \/\/ -1 : not found \/ number : found index  \n    var sectionCompetition = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionID);\n    var sectionCompetitionLM = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionLMID);\n    var sectionCompetitionDC = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionDCID);\n    var sectionCompetitionCM = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionCMID);\n    \/\/var sectionOuverture = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID);\n    \/\/ On gere le cas particulier de la saison 40 \/ Voir la variable globale pour explication\n\/\/    var sectionOuverture = (data.id != ccppm_global.exclusionLesDeuxAlfreds)?data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID):-1;\n    var sectionOuverture = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID);\n\/*\n\tvar sectionOuverture = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID);\n  console.log('_JS:sectionOuvertureD '+sectionOuverture);\n    if (data.id == ccppm_global.exclusionLesDeuxAlfreds && ccppm_global.catalogueID == 'A5')\n      sectionOuverture = 0;\n*\/\n  \n  \/\/ Rien pour les brochures A5 \n  \/\/if ( ccppm_global.catalogueID != 'A4' )  \n  \/\/   \treturn '';\n  \n  \/\/ Rien pour les borchures A5 sauf pour film les deux alfreds #40\n  \/\/if ( ccppm_global.catalogueID != 'A4' || ( ccppm_global.catalogueID == 'A5' && data.id != ccppm_global.exclusionLesDeuxAlfreds))  \n  \/\/  \treturn '';\n  \n  \/\/ Rien pour les brochures A5 sauf pour une liste de films #42\n  \/\/if ( ccppm_global.catalogueID != 'A4' )\n  \/\/  if ( !ccppm_global.displayFilmsA5asA4.includes(Number(data.id)) )\n  \/\/    \treturn '';\n \n  \n  \t\/\/ Gestion controle Longueurs\n  \tvar styleFR = 'synopsis';\n  \tvar styleUK = 'synopsisAlt';\n    \/\/console.log(data.post_title+ ' # LONGUEUR' + (data.short_synopsis_french.length + data.short_synopsis_english.length));\n  \tif ( ( data.short_synopsis_french.length + data.short_synopsis_english.length) \u003E 1200 ) {\n      \t\/\/console.log(data.post_title+ ' # CONTENU SYNOPSIS TROP LONG' + (data.short_synopsis_french.length + data.short_synopsis_english.length));\n    \tstyleFR = 'synopsis_shorten';\n    \tstyleUK = 'synopsisAlt_shorten';\n    }\n  \n\t\/\/ Synopsis FR\n  \tvar synopsis_french = data.short_synopsis_french;\n    \/*if ( data.synopsis_french_alt != undefined && data.synopsis_french_alt != '' )\n    \tsynopsis_french = data.synopsis_french_alt;*\/\n    \/*if ( data.synopsis_french != undefined && data.synopsis_french != '' )\n    \tsynopsis_french = data.synopsis_french;*\/\n    if ( data.catalog_synopsis_french != undefined && data.catalog_synopsis_french != '' && ccppm_global.showSynopsisFR != false )\n    \tsynopsis_french = data.catalog_synopsis_french;\n    \/*if ( data.short_synopsis_french != undefined && data.short_synopsis_french != '' && sectionCompetition == -1 )\n    \tsynopsis_french = data.short_synopsis_french;*\/\n\n  \tret.push('', {text: synopsis_french, style: styleFR});\n  \n\t\/\/ Synopsis UK\n  \tvar synopsis_english = false;\n    if ( data.short_synopsis_english != undefined && data.short_synopsis_english != '' && ccppm_global.showSynopsisUK != false )\n\t\tsynopsis_english = data.short_synopsis_english;\n    \/*if ( data.synopsis_english != undefined && data.synopsis_english != '' )\n    \tsynopsis_english = data.synopsis_english;*\/\n    if ( data.catalog_synopsis_english != undefined && data.catalog_synopsis_english != '' )\n    \tsynopsis_english = data.catalog_synopsis_english;\n    if (synopsis_english && ( sectionCompetition != -1 || sectionCompetitionLM != -1 || sectionCompetitionDC != -1 || sectionCompetitionCM != -1 || sectionOuverture != -1 ) )\n    \tret.push('\\n', {text: synopsis_english, style: styleUK});\n\t\n  \tret.push('\\n\\n');\n  \t\/\/ Output avec title\n    var output = [{text: ((title != '')?title+' ':''), style: el_class}];\n    $.each(ret, function(idx, element) {\n        output.push(element);\n      });\n    return output;\n}\n\nccppm_global.print_filmography = function(data, title='', el_class='intertitre', inline=false, el_color=ccppm_global.editionColor) {\n  \t\/*\tMEMO\n        Catalogue A4 : \n        * Filmo pour compet et ouverture\n        \n        Brochure A5 :\n        * Pas de filmo \n        \n      '\\n\\n',\n      {text : '\u00b7 La filmographie\\n', style : 'intertitre'},\n      data.filmography,\n\n    *\/\n  \tvar ret = [];\n  \t\/\/ Search for Competition section ID : 192 \/\/ -1 : not found \/ number : found index\n    if ( data.section ) {\n    var sectionCompetition = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionID);\n    var sectionCompetitionLM = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionLMID);\n    var sectionCompetitionDC = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionDCID);\n    var sectionCompetitionCM = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionCMID);\n    var sectionOuverture = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID);\n    }\n  \n\t\/\/ Rien pour les brochures A5 \n  \t\/\/if ( ccppm_global.catalogueID != 'A4') \n    \/\/  \treturn '';\n  \n    \/\/ Rien pour les brochures A5 sauf pour une liste de films #42\n  \tif ( ccppm_global.catalogueID != 'A4' )\n    \tif ( !ccppm_global.displayFilmsA5asA4.includes(Number(data.id)) )\n      \t\treturn '';\n\n\n    \/\/ Rien pour hors compet\n  \t\/\/if ( sectionCompetition == -1 ) \n    \/\/  \treturn '';\n\n\tvar filmography = '';\n  \t\/\/ Filmography\n    if ( data.filmography != undefined && data.filmography != '' && data.filmography != \"-\" )\n    \tfilmography = data.filmography;\n  \n    \/\/ Filmography recursive #41\n    var c = [];\n    var data_filmography_r = [];\n    if ( data.filmography_r != undefined && data.filmography_r != '' \n        && data.filmography_r.length \u003E 0 )\n       \tif ( data.filmography_r[0].film != '')\n    \t\tdata_filmography_r = data.filmography_r;\n    if ( data.selective_filmography_r != undefined && data.selective_filmography_r != '' \n        && data.selective_filmography_r.length \u003E 0 )\n       \tif ( data.selective_filmography_r[0].film != '') {\n      \t\tdata_filmography_r = data.selective_filmography_r;\n      \t\ttitle = ((title != '')?title+' s\u00e9lective':title);\n    \t}\n\t\/\/ Render \n    if ( data_filmography_r != undefined && data_filmography_r.length \u003E 0 )\n      $.each(data_filmography_r, function(idx, element) {\n          \/\/c.push(idx);\n          if (element.year != undefined && element.year != '')\n            c.push({text : element.year, style:'filmography-md-label'}, ' ');\n          if (element.film != undefined && element.film != '')\n            c.push({text : element.film, style:'filmography-md-italics'}, (inline==false && element.type == 'N\/A')?'\\n':' ');\n          if (element.type != undefined && element.type != '' && element.type != 'N\/A' )\n            c.push({text : element.type, style:'filmography-md-bold'}, (inline==false)?'\\n':'  \u2022  ');\n      });\n\tif (c.length \u003E 0)  \n\t\tfilmography = {text : c, style:'filmography'};\n  \n  \t\/\/ Selective Filmography\n    if ( data.selective_filmography != undefined && data.selective_filmography != '' && data.selective_filmography != \"-\") {\n    \tfilmography = data.selective_filmography;\n      \ttitle = ((title != '')?title+' s\u00e9lective':title);\n    }\n  \n    \/\/ Rien si filmo HIDE\n  \tif ( data.selective_filmography == \"HIDE\" ) \n      \treturn '';\n  \n    if ( filmography != undefined && filmography != '' && ( sectionCompetition != -1 || sectionCompetitionLM != -1 || sectionCompetitionDC != -1 || sectionCompetitionCM != -1 ||  sectionOuverture != -1 || ccppm_global.displayFilmsA5asA4.includes(Number(data.id)) ))\n    \tret.push('', {text : filmography, style:'filmography'});\n    else \n    \treturn '';\n\n  \t\/\/ ret.push('\\n'); \/\/ Retour \u00e0 la ligne apr\u00e8s\n  \t\/\/ Output\n    var output = [{text: ((title != '')?title+' ':''), style: el_class, margin:[0,0,0,-3], color:el_color}];\n    $.each(ret, function(idx, element) {\n        output.push(element);\n      });\n    return output;\n}\n\nccppm_global.print_awards = function(data, title='', el_class='intertitre', inline=false) {\n  \t\/*\tMEMO\n        Catalogue A4 : \n        * Awards pour compet et ouverture\n        \n        Brochure A5 :\n        * Pas de awards \n        \n      '\\n\\n',\n      {text : '\u00b7 Nominations\\n', style : 'intertitre'},\n      data.awards,\n    *\/\n  \tvar ret = [];\n  \t\/\/ Search for Competition section ID : 192 \/\/ -1 : not found \/ number : found index\n    if ( data.section ) {\n    var sectionCompetition = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionID);\n    var sectionCompetitionLM = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionLMID);\n    var sectionCompetitionDC = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionDCID);\n    var sectionCompetitionCM = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionCMID);\n    var sectionOuverture = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID);\n    }\n\n   \t\/\/ Rien pour les brochures A5 \n  \t\/\/if ( ccppm_global.catalogueID != 'A4') \n    \/\/  \treturn '';\n  \n    \/\/ Rien pour les brochures A5 sauf pour une liste de films #42\n  \tif ( ccppm_global.catalogueID != 'A4' )\n    \tif ( !ccppm_global.displayFilmsA5asA4.includes(Number(data.id)) )\n      \t\treturn '';\n\nconsole.log(\"awards::\", sectionOuverture);\n  \n    \/\/ Rien pour hors compet\n  \t\/\/if ( sectionCompetition == -1 ) \n    \/\/  \treturn '';\n\n\tvar awards = '';\n  \t\/\/ Awards\n    if ( data.awards != undefined && data.awards != '' && data.awards != \"-\" )\n    \tawards = data.awards;\n  \n    \/\/ Awards recursive #41\n    var c = [];\n    var data_awards_r = [];\n    if ( data.awards_r != undefined && data.awards_r != '' \n        && data.awards_r.length \u003E 0 )\n       \tif ( data.awards_r[0].film != '')\n    \t\tdata_awards_r = data.awards_r;\n    if ( data.selective_awards_r != undefined && data.selective_awards_r != '' \n        && data.selective_awards_r.length \u003E 0 )\n       \tif ( data.selective_awards_r[0].film != '') {\n      \t\tdata_awards_r = data.selective_awards_r;\n      \t\ttitle = ((title != '')?title+' s\u00e9lectives':title);\n    \t}\n    \/\/ Render \n    if ( data_awards_r != undefined && data_awards_r.length \u003E 0 )\n      $.each(data_awards_r, function(idx, element) {\n          \/\/c.push(idx);\n          if (element.year != undefined && element.year != '')\n            c.push({text : element.year, style:'awards-md-label'}, ' ');\n          if (element.film != undefined && element.film != '')\n            c.push({text : element.film, style:'awards'}, ' ');\n          if (element.festival != undefined && element.festival != '')\n            c.push({text : element.festival, style:'awards-md-bold'}, (inline==false)?'\\n':'  \u2022  ');\n      });\n\tif (c)  \n\t\tawards = {text : c, style:'awards'};\n  \n  \t\/\/ Selective Awards\n  \tif ( data.selective_awards != undefined && data.selective_awards != '' && data.selective_awards != \"-\") {\n    \tawards = data.selective_awards;\n        title = ((title != '')?title+' s\u00e9lectives':title);\n    }\n\n    \/\/ Rien si awards HIDE\n  \tif ( data.selective_awards == \"HIDE\" ) \n      \treturn '';\n  \t\n    if ( awards != undefined && awards != '' && ( sectionCompetition != -1 || sectionCompetitionLM != -1 || sectionCompetitionDC != -1 || sectionCompetitionCM != -1 ||  sectionOuverture != -1 || ccppm_global.displayFilmsA5asA4.includes(Number(data.id)) ))\n    \tret.push('', {text : awards, style:'awards'});\n    else \n    \treturn '';\n\t\n  \t\/\/ ret.push('\\n'); \/\/ Retour \u00e0 la ligne apr\u00e8s\n  \t\/\/ Output\n    var output = [{text: ((title != '')?title+' ':''), style: el_class, margin:[0,0,0,-3]}];\n    $.each(ret, function(idx, element) {\n        output.push(element);\n      });\n    return output;\n}\n\nccppm_global.print_career = function(data, title='', el_class='intertitre', inline=false) {\n  \t\/*\tMEMO\n        Catalogue A4 : \n        * Career pour compet et ouverture\n        \n        Brochure A5 :\n        * Pas de career \n        \n      '\\n\\n',\n      {text : '\u00b7 Carri\u00e8re du film\\n', style : 'intertitre'},\n      data.career,\n    *\/\n  \tvar ret = [];\n  \t\/\/ Search for Competition section ID : 192 \/\/ -1 : not found \/ number : found index\n    if ( data.section ) {\n    var sectionCompetition = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionID);\n    var sectionCompetitionLM = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionLMID);\n    var sectionCompetitionDC = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionDCID);\n    var sectionCompetitionCM = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionCMID);\n    var sectionOuverture = data.section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID);\n    }\n\n    \/\/ Rien pour les brochures A5 \n  \t\/\/if ( ccppm_global.catalogueID != 'A4') \n    \/\/  \treturn '';\n  \n    \/\/ Rien pour les brochures A5 sauf pour une liste de films #42\n  \tif ( ccppm_global.catalogueID != 'A4' )\n    \tif ( !ccppm_global.displayFilmsA5asA4.includes(Number(data.id)) )\n      \t\treturn '';\n\n\n    \/\/ Rien pour hors compet\n  \t\/\/if ( sectionCompetition == -1 ) \n    \/\/  \treturn '';\n\n\tvar career = '';\n  \t\/\/ career_french\n    if ( data.career_french != undefined && data.career_french != '' && data.career_french != \"-\" )\n    \tcareer = data.career_french;\n  \n    \/\/ Career recursive #41\n    var c = [];\n    var data_career_r = [];\n    if ( data.career_r != undefined && data.career_r != '' \n        && data.career_r.length \u003E 0 )\n       \tif ( data.career_r[0].festival != '')\n    \t\tdata_career_r = data.career_r;\n    if ( data.selective_career_r != undefined && data.selective_career_r != '' \n        && data.selective_career_r.length \u003E 0 )\n       \tif ( data.selective_career_r[0].festival != '') {\n      \t\tdata_career_r = data.selective_career_r;\n      \t\ttitle = ((title != '')?title+' s\u00e9lective':title);\n    \t}\n\t\/\/ Render \n    if ( data_career_r != undefined && data_career_r.length \u003E 0 )\n      $.each(data_career_r, function(idx, element) {\n          if (element.year != undefined && element.year != '')\n            c.push({text : element.year, style:'career-md-label'}, ' ');\n          if (element.festival != undefined && element.festival != '')\n            c.push({text : element.festival, style:'career'}, (inline==false)?'\\n':'  \u2022  ');\n      });\n\tif (c)  \n\t\tcareer = {text : c, style:'career'};\n  \n  \t\/\/ Selective Career\n    if ( data.selective_career != undefined && data.selective_career != '' && data.selective_film_career != \"-\") {\n        career = data.selective_career;\n        title = ((title != '')?title+' s\u00e9lective':title);\n    }\n\n    \/\/ Rien si career HIDE\n  \tif ( data.selective_career == \"HIDE\" ) \n      \treturn '';\n  \t\n  \/\/ Film career french\n    if ( career != undefined && career != '' && ( sectionCompetition != -1 || sectionCompetitionLM != -1 || sectionCompetitionDC != -1 || sectionCompetitionCM != -1 ||  sectionOuverture != -1 || ccppm_global.displayFilmsA5asA4.includes(Number(data.id)) ))\n    \tret.push('', {text : career, style:'career'});\n    else \n    \treturn '';\n\t\n  \t\/\/ ret.push('\\n'); \/\/ Retour \u00e0 la ligne apr\u00e8s\n  \t\/\/ Output\n    var output = [{text: ((title != '')?title+' ':''), style: el_class, margin:[0,0,0,-3]}];\n    $.each(ret, function(idx, element) {\n        output.push(element);\n      });\n    return output;\n}\n\nccppm_global.print_notes = function(data, title='', el_class='intertitre') {\n  \t\/*\tMEMO\n        Catalogue A4 : \n        * Notes si existant \n        \n        Brochure A5 :\n        * Notes si existant \n        \n      '\\n\\n',\n      {text : '\u00b7 Notes\\n', style : 'intertitre'},\n      data.notes,\n\n    *\/\n  \tvar ret = [];\n \n  \t\/\/ Rien pour les brochures A5 \n  \t\/*if ( ccppm_global.catalogueID != 'A4') \n      \treturn '';*\/\n\n  \t\/\/ Notes\n    if ( data.notes != undefined && data.notes != '' && data.notes != \"-\")\n    \tret.push('', {text : data.notes, style:'notes', margin:[0,0,0,5]});\n    else \n    \treturn '';\n\t\n  \t\/\/ret.push('\\n');\n  \t\/\/ Output\n    \/\/var output = [{text: ((title != '')?title+' ':''), style: el_class}];\n    var output = []; \/\/ Supression du titre\n    $.each(ret, function(idx, element) {\n        output.push(element);\n      });\n    return output;\n}\n\nccppm_global.print_opinion = function(data, title='', el_class='intertitre') {\n  \t\/*\tMEMO\n        Catalogue A4 : \n        * Opinions si existant \n        \n        Brochure A5 :\n        * Opinions si existant \n        \n      '\\n\\n',\n      {text : '\u00b7 L'opinion + auteur\\n', style : 'intertitre'},\n      data.long_opinion,\n      data.opinion_author,\n\n    *\/\n  \tvar ret = [];\n \n  \t\/\/ Rien pour les brochures A5 \n  \t\/*if ( ccppm_global.catalogueID != 'A4') \n      \treturn '';*\/\n\n  \t\/\/ Opinion\n    if ( data.long_opinion != undefined && data.long_opinion != '' && data.long_opinion != \"-\" && ccppm_global.showOpinions != false ) {\n    \tret.push('', {text : data.long_opinion, style:['opinion'], margin:[0,0,0,5]});\n  \t\t\/\/ Author\n        if ( data.opinion_author != undefined \n            && data.opinion_author != '' && data.opinion_author != \"-\")\n            ret.push('\\n', {text : data.opinion_author, style:['opinionAuthor'], margin:[0,0,0,5]});\n    }\u00a0else {\n    \treturn '';\n    }\n\t\n  \t\/\/ret.push('\\n');\n  \t\/\/ Output sans titre\n    \/\/var output = [{text: ((title != '')?title+' ':''), style: el_class}];\n    \/*var output = []; \/\/ Supression du titre\n    $.each(ret, function(idx, element) {\n        output.push(element);\n      });\n    return output;*\/\n  \n    \/\/ret.push('\\n');\n  \t\/\/ Output avec titre\n    var output = [{text: ((title != '')?title+' ':''), style: el_class, margin:[0,0,0,-3]}];\n    $.each(ret, function(idx, element) {\n        output.push(element);\n      });\n    return output;\n}\n\n\/*ccppm_global.print_versions = function(data) {\n  var dimensions = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7:5;\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?5.3:3.8;\n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.2;\n  var verticalGap = (ccppm_global.catalogueID=='A4')?1.5:1;\n  var ajustWidth = (ccppm_global.catalogueID=='A4')?0:-.5;\n  if (ccppm_global.isSafari==true)\n  ajustWidth = (ccppm_global.catalogueID=='A4')?-.5:-.1;  \n  var round = (ccppm_global.catalogueID=='A4')?2:1;\n\n  var versions = [];\n  \/\/jQuery.each(data.available_formats, function(idx, element) {\n  if (data.available_formats) {\n \tvar element = data.available_formats[0];\n    if ( element.vo != undefined && element.vo != 'N\/A' && element.vo != 'fr'){\n      var vo = element.vo;\n      if ( vo == 'en') vo = 'eng';\n      versions.push('VO('+vo.toUpperCase()+')');\n    }\n    if ( element.vo != undefined && element.vo != 'N\/A' && element.vo == 'fr')\n      versions.push('VF');\n    if ( element.st != undefined && element.st != 'N\/A' && element.st != 'fr') {\n      var st = element.st;\n      if ( st == 'en') st = 'eng';\n      versions.push('ST'+st.toUpperCase());\n    }\n    if ( element.vost != undefined && element.vost != 'N\/A' && element.vost != 'fr') {\n      var vost = element.vost;\n      if ( vost == 'en') vost = 'eng';\n      versions.push('ST'+vost.toUpperCase());\n    }\n    if ( element.vostfr != undefined && element.vostfr != 'N\/A')\n      versions.push('STFR');\n  }\n  \/\/}); \n  \n  if ( versions.length == 0 ) \n    return '';\n  \n  \/\/var version = vo.toUpperCase()+st.toUpperCase()+vost.toUpperCase()+vostfr.toUpperCase(); \n  var version = versions.join(' '); \n  \/\/ Notes : data des formats : VO VOSTFR VOSTA VF VO(ES) \n  \n  \/\/ Measure text width from string\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext(\"2d\");\n\/\/  ctx.font = \"6.9px Bureau_Grot\";\n  ctx.font = fontSizeCanvas+\"pt Bureau_Grot\";        \n  var width = ctx.measureText(version).width;\n  \n  \/\/ Alternativ method\n  var slength = version.length;\n  var ret = [\n       { stack: [\n\t\t    {\n\t\t\tcanvas: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'rect',\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tw: width+(paddingLR*2)+ajustWidth,\n\t\t\t\t\th: dimensions,\n\t\t\t\t\tr: round,\n\t\t\t\t\tlineWidth: 0,\n\t\t\t\t\t\/\/lineColor: 'purple',\n\t\t\t\t\tcolor: ccppm_global.editionColor,\n\t\t\t\t},\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tcolor: 'white',\n    \t\tfontSize: fontSize, \/\/7\n          \tbold: true,\n\t\t\tcharacterSpacing: 0.2,\n\t\t\t\/\/absolutePosition: {x: 0, y: 0},\n          \tmargin: [paddingLR,-(dimensions-verticalGap),0,0],\n\t\t\ttext: [ version ],\n\t\t}\n         ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n       }\n  ];\n \t return ret;\n}\n*\/\n\nccppm_global.print_versions = function(data) {\n  \/* 40 Old w\/ Bureau_Grot\n  var dimensions = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7:5;\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?5.3:3.8;\n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.2;\n  var verticalGap = (ccppm_global.catalogueID=='A4')?1.5:1;\n  var ajustWidth = (ccppm_global.catalogueID=='A4')?0:-.5;\n  if (ccppm_global.isSafari==true)\n  ajustWidth = (ccppm_global.catalogueID=='A4')?-.5:-.1;  \n  var round = (ccppm_global.catalogueID=='A4')?2:1;\n  *\/\n\n  \/\/ 41 Now w\/ Bureau_Grot_Condensed\n  var dimensions = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7.5:6;\n\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?3.9:3.1;\n  if (ccppm_global.isSafari==true)\n  fontSizeCanvas = (ccppm_global.catalogueID=='A4')?4.1:3.1;\n  \/\/fontSizeCanvas = fontSize;\n  \n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.2;\n  \/\/paddingLR = 0;\n  \/*var verticalGap = (ccppm_global.catalogueID=='A4')?1.5:0.5; \/\/ #40 1.5:1\n  if (ccppm_global.isSafari==true)\n  verticalGap = (ccppm_global.catalogueID=='A4')?1.5:0.25;*\/\n\n  var verticalGap = (ccppm_global.catalogueID=='A4')?9.9:7.1; \/\/ #41 OK SAF\n\n\n\n  var ajustWidth = (ccppm_global.catalogueID=='A4')?0:0; \/\/ #40 1.1:1.5\n  if (ccppm_global.isSafari==true)\n  ajustWidth = (ccppm_global.catalogueID=='A4')?0.5:0.5;\n  \/\/ajustWidth = 0;\n\n  var round = (ccppm_global.catalogueID=='A4')?2:1;\n\n\n  var versions = [];\n  \/\/jQuery.each(data.available_formats, function(idx, element) {\n  if (data.available_formats) {\n \tvar element = data.available_formats[0];\n    if ( element.vo != undefined && element.vo != 'N\/A' && element.vo != 'fr'){\n      var vo = element.vo;\n      if ( vo == 'en') vo = 'eng';\n      versions.push('VO('+vo.toUpperCase()+')');\n    }\n    if ( element.vo != undefined && element.vo != 'N\/A' && element.vo == 'fr')\n      versions.push('VF');\n    if ( element.st != undefined && element.st != 'N\/A' && element.st != 'fr') {\n      var st = element.st;\n      if ( st == 'en') st = 'eng';\n      versions.push('ST'+st.toUpperCase());\n    }\n    if ( element.vost != undefined && element.vost != 'N\/A' && element.vost != 'fr') {\n      var vost = element.vost;\n      if ( vost == 'en') vost = 'eng';\n      versions.push('ST'+vost.toUpperCase());\n    }\n    if ( element.vostfr != undefined && element.vostfr != 'N\/A')\n      versions.push('STFR');\n  }\n  \/\/}); \n  \n  if ( versions.length == 0 ) \n    return '';\n  \n  \/\/var version = vo.toUpperCase()+st.toUpperCase()+vost.toUpperCase()+vostfr.toUpperCase(); \n  var version = versions.join(' '); \n  \/\/ Notes : data des formats : VO VOSTFR VOSTA VF VO(ES) \n  \n  \/\/version = 'VO(ENG) STFR';\n  \/\/version = 'VF';\n  \n  \/\/ Measure text width from string\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext(\"2d\");\n  ctx.font = \"bold \"+fontSizeCanvas+\"pt Bureau_Grot_Condensed\";\n  \/\/ Calculer la taille\n  var width = ctx.measureText(version).width;\n\n  \/\/ Superposer pr tests \n  \/*var ctx = new C2S(width,10); \/\/width, height of your desired svg file\n  ctx.fillStyle = '#0FF'; \/\/ Rect de controle\n  ctx.fillRect(0, 0, 100, 100); \/\/ Rect de controle\n  ctx.fillStyle = '#000';\n  ctx.fillText(version , 0, 8); \/\/ #40 (text , 0, -1);\n  var verify = ctx.getSerializedSvg(true);*\/\n\n  \/\/ Alternativ method\n  var slength = version.length;\n  var ret = [\n       { \n         stack: [\n            \/*{\n              \/\/ Fake font load \n              text:' ', \n              font: 'Bureau_Grot_Condensed', \n              bold:true, \n              fontSize:0\n            }, \n            {\n        \tsvg: verify,\n\t\t\t\/\/absolutePosition: {x: 100, y: 10},\n       \t\t},*\/\n\t\t    {\n\t\t\tcanvas: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'rect',\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tw: width+(paddingLR*2)+ajustWidth,\n\t\t\t\t\th: dimensions,\n\t\t\t\t\tr: round,\n\t\t\t\t\tlineWidth: 0,\n\t\t\t\t\t\/\/lineColor: 'purple',\n\t\t\t\t\tcolor: ccppm_global.editionColor,\n\t\t\t\t},\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tcolor: 'white',\n    \t\tfontSize: fontSize, \/\/7\n            font: 'Bureau_Grot_Condensed',\n\t\t\tcharacterSpacing: 0.2,\n          \tbold: true,\n\t\t\t\/\/absolutePosition: {x: 0, y: 0},\n          \tmargin: [paddingLR,-(verticalGap),0,0],\n\t\t\ttext: [ version ],\n\t\t}\n         ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n       },\n  ];\n \t return ret;\n}\n\n\nccppm_global.print_public = function(data) {\n  \/*\n  \t\t\t            '1' =\u003E __('\u003Cspan\u003EU\u003C\/span\u003E','wace'), \/\/ Ne pas afficher \n\t\t\t            '2' =\u003E __('\u003Cspan\u003EPG\u003C\/span\u003E','wace'),\n\t\t\t            '3' =\u003E __('\u003Cspan\u003E-10\u003C\/span\u003E','wace'),\n\t\t\t            '4' =\u003E __('\u003Cspan\u003E-12\u003C\/span\u003E','wace'),\n\t\t\t            '5' =\u003E __('\u003Cspan\u003E-15\u003C\/span\u003E','wace'),\n\t\t\t            '6' =\u003E __('\u003Cspan\u003E-16\u003C\/span\u003E','wace'),\n\t\t\t            '7' =\u003E __('\u003Cspan\u003E-18\u003C\/span\u003E','wace'),\n\t\t\t            '8' =\u003E __('\u003Cspan\u003EX\u003C\/span\u003E','wace'),\n  *\/\n  var public = data.public;\n  if (!public)\n    return [];\n  if (public == 1)\n    return [];\n  var translated_public = [\n    [1,''], \/\/ U\n    [2,'PG'],\n    [3,'-10'],\n    [4,'-12'],\n    [5,'-15'],\n    [6,'-16'],\n    [7,'-18'],\n    [8,'X'],\n  ];\n  jQuery.each(translated_public, function(idx, element) {\n    if ( element[0] == public ) {\n  \t\tpublic = element[1].toUpperCase();\n    \treturn false;\n    }\n  });\n  \n  var slength = public.length;\n  var dimension = (ccppm_global.catalogueID=='A4')?6:4;\n  var fontSize = dimension;\n  var ret = [\n       { stack: [\n\t\t    {\n\t\t\tcanvas: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'ellipse',\n\t\t\t\t\tx: (dimension\/100)*70,\n\t\t\t\t\ty: (dimension\/100)*90,\n\t\t\t\t\tfillOpacity: 1,\n\t\t\t\t\tr1: dimension, r2: dimension,\n\t\t\t\t\t\/\/lineColor: 'purple',\n\t\t\t\t\tcolor: 'orange',\n\t\t\t\t},\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tcolor: 'white',\n    \t\tfontSize: fontSize,\n          \tbold: true,\n        \talignment: 'center',\n\t\t\t\/\/absolutePosition: {x: 0, y: 0},\n          \tmargin: [-1.9,-(fontSize*1.55),0,0],\n\t\t\ttext: [ public ],\n\t\t}\n                ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n       }\n       ];\n \t return ret;\n}\n\nccppm_global.print_3D = function(data) {\n  var dimension = (ccppm_global.catalogueID=='A4')?18:12;\n  var verticalGap = (ccppm_global.catalogueID=='A4')?3.5:2.2;\n  if ( data.is_3d == \"1\" ) {\n     return [\n       { stack: [\n          {\n              svg: ccppm_global.ico_is3D,\n              width: dimension,\n              \/\/height: 12\n              fit: [dimension, dimension],\n              margin: [-1,-verticalGap,0,0],\n          },\n         ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n       }\n    ];\n  }\n  return '';\n}\n\nccppm_global.print_withoutDialogue = function(data) {\n  var dimension = (ccppm_global.catalogueID=='A4')?11:8;\n  var verticalGap = (ccppm_global.catalogueID=='A4')?0.5:0.5;\n  if (data.available_formats) {\n    var element = data.available_formats[0];  \n    if ( element.without_dialogue ) {\n     return [\n       { stack: [\n          {\n              \/\/svg: ccppm_global.ico_withoutdialogue,\n\t\t\t  svg: (ccppm_global.iconColor == 'white')?ccppm_global.ico_withoutdialogue_white:ccppm_global.ico_withoutdialogue,\n              width: dimension,\n              \/\/height: 12\n              fit: [dimension, dimension],\n              margin: [0,-verticalGap,0,0],\n          },\n         ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n       }\n      ];\n    }\n  }\n  return '';\n}\n\nccppm_global.print_qrcode = function(u_data) { \n  \/\/ Ici mettre dans un table pour eviter PB ? \n  if ( u_data ) {\n  return [\n    {\n\t\tstack: [\n        {\n          \t\/\/svg: ccppm_global.ico_more,\n\t\t\tsvg: (ccppm_global.iconColor == 'white')?ccppm_global.ico_more_white:ccppm_global.ico_more,\n\t\t\t\/\/width: 38,\n\t\t\theight: 38, \/\/ test debug changement de tailles \n\t\t\tmargin: [-4,-4,0,0],\n        },\n\t\t\/*{ \n          qr: u_data, \n          fit: 38, \n          \/\/width: 50,\n          \/\/height: 50,\n          alignment: 'left', \n          foreground: 'gray',\n          background: 'white',\n\t\t},*\/\n      ],\n      margin: [0,0,0,0],\n  }\n];\n\n\/*\n   return [\n  \t{\n      width: ['50'],\n      layout: 'no Borders',\n      table: {\n        body: [\n          [{\n            svg: ccppm_global.ico_more,\n            width: 42,\n            margin: [-4,0,0,0],\n          }],\n          [{ \n            qr: u_data, \n            fit: 50, \n            width: 50,\n            height: 50,\n            alignment: 'left', \n            foreground: 'gray', background: 'white',\n          }],\n        ]\n      },\n      margin: [0,0,0,0],\n    },\n     ];*\/\n  }\n}\n\nccppm_global.print_movie_type = function(data) {\n  var category = data.movie_type;\n  var dimensions = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7.5:6;\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?3.9:3.1;\n  if (ccppm_global.isSafari==true)\n  fontSizeCanvas = (ccppm_global.catalogueID=='A4')?4.1:3.1;\n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.2;\n  var verticalGap = (ccppm_global.catalogueID=='A4')?10:7.1;\n  var ajustWidth = (ccppm_global.catalogueID=='A4')?0.1:.5;\n  if (ccppm_global.isSafari==true)\n  ajustWidth = (ccppm_global.catalogueID=='A4')?1.5:1;\n  var round = (ccppm_global.catalogueID=='A4')?2:1;\n  \n  if (!category)\n    return [];\n  \n  var translated_category = [\n    ['Short film','Court m\u00e9trage'],\n    ['Feature film','Long m\u00e9trage'],\n    ['Documentary film','Documentaire'],\n    ['Medium-length film','Moyen m\u00e9trage'],\n    ['Program','Programme'],\n  ];\n  jQuery.each(translated_category, function(idx, element) {\n    if ( element[0] == category ) {\n  \t\tcategory = element[1].toUpperCase();\n    \treturn false;\n    }\n  });\n  \n  \/\/ Measure text width from string\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext(\"2d\");\n  ctx.font = fontSizeCanvas+\"pt Bureau_Grot_Condensed\";        \n  var width = ctx.measureText(category).width;\n  \n  \/\/ Alternativ method\n  var slength = category.length;\n  \/\/var paddingLR = 3;\n  var ret = [ {\n          stack: [\n          {\n              canvas: [\n                  {\n                      type: 'rect',\n                      x: 0,\n                      y: 0,\n                      w: width+(paddingLR*2)+ajustWidth,\n                      h: dimensions,\n                      r: round,\n                      lineWidth: .5,\n                      lineColor: ccppm_global.editionColor,\n                      \/\/color: '#ffffe0',\n                  },\n              ]\n          },\n          {\n              color: ccppm_global.editionColor,\n              fontSize: fontSize,\n              font: 'Bureau_Grot_Condensed',\n\t\t\t  characterSpacing: 0.2,\n              bold: true,\n              \/\/absolutePosition: {x: 0, y: 0},\n              margin: [paddingLR,-verticalGap,0,0],\n              text: [ category ],\n          }\n      ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n      }];\n \t return ret;\n}\n\nccppm_global.print_movie_category = function(data) {\n  var category = data.movie_category;\n  var dimensions = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7.5:6;\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?3.9:3.1;\n  if (ccppm_global.isSafari==true)\n  fontSizeCanvas = (ccppm_global.catalogueID=='A4')?4.1:3.1;\n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.2;\n  var verticalGap = (ccppm_global.catalogueID=='A4')?10:7.1;\n  var ajustWidth = (ccppm_global.catalogueID=='A4')?0.1:.5;\n  if (ccppm_global.isSafari==true)\n  ajustWidth = (ccppm_global.catalogueID=='A4')?1.5:1;\n  var round = (ccppm_global.catalogueID=='A4')?2:1;\n\n  if (!category)\n    return [];\n  var translated_category = [\n    ['Fiction','Fiction'],\n    ['Fiction documentary','Documentaire fiction'],\n    ['Animation','Animation'],\n    ['Animation documentary','Documentaire animation'],\n    ['Documentary','Documentaire'],\n    ['Experimental','Experimental'],\n    ['Other','Autre'],\n  ];\n  jQuery.each(translated_category, function(idx, element) {\n    if ( element[0] == category ) {\n  \t\tcategory = element[1].toUpperCase();\n    \treturn false;\n    }\n  });   \n  \n  \/\/ Measure text width from string\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext(\"2d\");\n  ctx.font = fontSizeCanvas+\"pt Bureau_Grot_Condensed\";        \n  var width = ctx.measureText(category).width;\n  \n  \/\/ Alternativ method\n  var slength = category.length;  \n  var ret = [{\n          stack: [\n          {\n\t\t\tcanvas: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'rect',\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n                    w: width+(paddingLR*2)+ajustWidth,\n                    h: dimensions,\n\t\t\t\t\tr: round,\n\t\t\t\t\tlineWidth: .5,\n\t\t\t\t\tlineColor: ccppm_global.editionColor,\n\t\t\t\t\t\/\/color: '#ffffe0',\n\t\t\t\t},\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tcolor: ccppm_global.editionColor,\n              fontSize: fontSize,\n              font: 'Bureau_Grot_Condensed',\n\t\t\t  characterSpacing: 0.2,\n              bold: true,\n              \/\/absolutePosition: {x: 0, y: 0},\n              margin: [paddingLR,-verticalGap,0,0],\n\t\t\ttext: [ category ],\n        }\n\t\t],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n      }];\n \t return ret;\n}\n\n\nccppm_global.print_section = function(data, s_name='', bordered=false) {\n  \/*var dimensions = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7.5:6;\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?3.9:3.1;\n  if (ccppm_global.isSafari==true)\n  fontSizeCanvas = (ccppm_global.catalogueID=='A4')?4.1:3.1;\n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.2;\n  var verticalGap = (ccppm_global.catalogueID=='A4')?10:7.1;\n  var ajustWidth = (ccppm_global.catalogueID=='A4')?0.1:.5;\n  if (ccppm_global.isSafari==true)\n  ajustWidth = (ccppm_global.catalogueID=='A4')?1.5:1;\n  var round = (ccppm_global.catalogueID=='A4')?2:1;*\/\n  \n    \/\/ 41 Now w\/ Bureau_Grot_Condensed\n  var dimensions = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7.5:6;\n\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?3.9:3.1;\n  if (ccppm_global.isSafari==true)\n  fontSizeCanvas = (ccppm_global.catalogueID=='A4')?4.1:3.1;\n  \/\/fontSizeCanvas = fontSize;\n  \n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.2;\n  \/\/paddingLR = 0;\n  \/*var verticalGap = (ccppm_global.catalogueID=='A4')?1.5:0.5; \/\/ #40 1.5:1\n  if (ccppm_global.isSafari==true)\n  verticalGap = (ccppm_global.catalogueID=='A4')?1.5:0.25;*\/\n\n  var verticalGap = (ccppm_global.catalogueID=='A4')?9.9:7.1; \/\/ #41 OK SAF\n\n  var ajustWidth = (ccppm_global.catalogueID=='A4')?0:0; \/\/ #40 1.1:1.5\n  if (ccppm_global.isSafari==true)\n  ajustWidth = (ccppm_global.catalogueID=='A4')?4.5:0.5;\n  \/\/ajustWidth = 0;\n\n  var round = (ccppm_global.catalogueID=='A4')?2:1;\n  \n  var sections = [];\n  if ( s_name != '' ) \n    sections = [{name:s_name}]; \/\/ Print direct section\n  else \n  \tsections = data.section; \/\/ Print all sections\n  \n  console.log(sections.length);\n  \n  if ( sections == null && sections.length == 0 && s_name == '')\n    return [];\n  \n   var ret = [];\n   jQuery.each(sections, function(idx, section) {\n     \n     if ( section.parent === ccppm_global.currentEditionID ) return;\n     var name = section.name.toUpperCase();\n\n    \/\/ Measure text width from string\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext(\"2d\");\n    ctx.font = fontSizeCanvas+\"pt Bureau_Grot_Condensed\";        \n    var width = ctx.measureText(name).width;\n\n    \/\/ Alternativ method\n    var slength = name.length;  \n    ret.push({\n            stack: [\n            {\n              canvas: [\n                  {\n                      type: 'rect',\n                      x: 0,\n                      y: 0,\n                      w: width+(paddingLR*2)+ajustWidth,\n                      h: dimensions,\n                      r: round,\n                      lineWidth: .5,\n                      color: ((bordered === true)?null:(data != null && data.color_print)?data.color_print:ccppm_global.editionColor),\n                      lineColor: ((bordered === true)?'white':(data != null && data.color_print)?data.color_print:ccppm_global.editionColor),\n                      \/\/color: 'white',\n                  },\n              ]\n          },\n          {\n            color: 'white',\n            fontSize: fontSize,\n            font: 'Bureau_Grot_Condensed',\n            characterSpacing: 0.2,\n            bold: true,\n            \/\/absolutePosition: {x: 0, y: 0},\n            margin: [paddingLR,-verticalGap,0,0],\n            text: [ name ],\n          }\n          ],\n          margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n        }); \/\/ END Push\n\t}); \/\/ END foreach\n\n \t return ret;\n}\n\n\nccppm_global.print_guest = function(data, reduced=false) {\n  var projections = data.projections;\n  var dimension = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?6:4.3;\n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.2;\n  var firstname = '';\n  var lastname = '';\n  var guest_name = '';\n  jQuery.each(projections, function(idx, element) {\n\/\/    console.log(element);\n    if ( element.is_guest == 1 ) {\n      \tif (element.guest) {\n          \tif ( element.guest.firstname != '' && element.guest.firstname != '.') \n          \t\tfirstname = element.guest.firstname.toUpperCase() + ' ';\n          \tif ( element.guest.name != '' && element.guest.name != '.') \n          \t\tlastname = element.guest.name.toUpperCase();\n          guest_name =  firstname + lastname;\n        }\n    }\n  });\n  \n  if ( guest_name == '' || guest_name == '.' || guest_name == '-' )\n    return '';\n\n  var fullSize = [];\n  if ( ccppm_global.catalogueID == 'A4' && reduced==false )\n  fullSize = [{ \n                text : 'EN PR\u00c9SENCE DE',\n                fontSize: fontSize,\n                lineHeight: .8,\n              },\n              { \n                text : guest_name + ' ',\n                fontSize: fontSize,\n                bold:true,\n                lineHeight: .8,\n              },\n  ];\n  else \n  fullSize = [{ \n                text : firstname + ' ',\n                fontSize: fontSize,\n                bold:true,\n                lineHeight: .8,\n              },\n              { \n                text : lastname + ' ',\n                fontSize: fontSize,\n                bold:true,\n                lineHeight: .8,\n              },\n  ];\n  return [\n    \t{\n          stack: [\n          {\n\t\t\tsvg: (ccppm_global.iconColor == 'white')?ccppm_global.ico_guest_white:ccppm_global.ico_guest,\n\t\t\twidth: dimension,\n\t\t\t\/\/height: 11\n\t\t\tfit: [dimension, dimension],\n\t\t},\n    \t{\n          \tstack: [\n              \tfullSize\n           ],\n          margin : [dimension+2,-dimension-1,0,0]\n    \t},\n    \t\/*{ \n          text : 'EN PR\u00c9SENCE DE STEVEN SPIELBERG',\n          fontSize: 8,\n          margin : [12+2,-10,0,0]\n\t\t}*\/\n  ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n      }];\n}\n\nccppm_global.print_youngpublic = function(data) {\n  var dimension = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?6:4.3;  \n  var projections = data.projections;\n  var young_public = 0;\n  jQuery.each(projections, function(idx, element) {\n    \/\/console.log(element);\n    if ( element.young_public == 1 ) {\n\t\tyoung_public = 1;\n    }\n  });\n  if ( young_public == 0 )\n    return '';\n  \n  var fullSize = [];\n  if ( ccppm_global.catalogueID == 'A4' )\n  fullSize = [{\n          \tstack: [\n              { \n                \/\/text : 'JEUNE',\n                text : 'PARENTS-',\n                fontSize: fontSize,\n                lineHeight: .8,\n              },\n              { \n                \/\/text : 'PUBLIC',\n                text : 'ENFANTS',\n                fontSize: fontSize,\n                bold:true,\n                lineHeight: .8,\n              }\n           ],\n          margin : [dimension+2,-dimension-1,0,0],\n    \t},\n  ];\n  \n  return [\n    \t{\n          stack: [\n          {\n\t\t\t\/\/svg: ccppm_global.ico_youngpublic,\n\t\t\tsvg: (ccppm_global.iconColor == 'white')?ccppm_global.ico_youngpublic_white:ccppm_global.ico_youngpublic,\n\t\t\twidth: dimension,\n\t\t\t\/\/height: 12\n\t\t\tfit: [dimension, dimension],\n\t\t},\n    \tfullSize,\n        ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n      }\n    ];\n}\n\nccppm_global.print_tag = function(data) {\n  var tag = data.catalog_tag;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7:5.8;  \n  var verticalGap = (ccppm_global.catalogueID=='A4')?2.5:1.0;\n  if ( tag != undefined && tag != '' )\n    return [{\n      stack: [\n       \t{ \n          text : tag.toUpperCase(),\n          fontSize: fontSize,\n          bold:false,\n    \t  font: 'Stereonic_Bold',\n          color: ccppm_global.editionColor,\n\t\t\/\/decoration: 'underline', \n        \/\/decorationStyle: 'wavy',\n          margin : [0,verticalGap,0,0]\n\t\t},\n      ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n    }];\n  return [];\n};\n\nccppm_global.print_premiere = function(data) {\n  var premiere = data.premiere;\n  var fontSize = (ccppm_global.catalogueID=='A4')?6:4.3;  \n  if ( premiere != undefined && premiere != '' )\n    return [{\n      stack: [\n       \t   {\n          \tstack: [\n              { \n                text : 'PREMI\u00c8RE',\n                fontSize: fontSize,\n                lineHeight: .8,\n              },\n              { \n                text : premiere.toUpperCase() + ' ',\n                fontSize: fontSize,\n                bold:true,\n                lineHeight: .8,\n              }\n           ],\n          margin : [0,-1,0,0]\n    \t},\n            ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n    }];\n  return [];\n};\n\nccppm_global.print_data = function(t_data, suffix='', unit='', title='', el_class='articles', _style='') {\n\tif (t_data == false || t_data == '') {\n      \treturn '';\n    }\n\t\/\/return [{text : title+' ', style: el_class}, t_data, {text : unit, style: 'unit'}, {text : suffix, style: 'suffix'}];\n\treturn [{text : title+' ', style: el_class, noWrap: true}, {text : t_data, style: _style, noWrap: true}, {text : unit, style: 'unit', noWrap: true}, {text : suffix, style: 'suffix', noWrap: true}]; \/\/ Modif Wil brochure A5 2020  \/\/ #41 add noWrap: true\n}\n\nccppm_global.print_datas = function(t_data, field, suffix='', unit='', _style='') {\n    if (t_data == false)\n        return '';\n  \n    var ret = [];\n  \tif ( field != '' ) {\n      jQuery.each(t_data, function(idx, element) {\n          if (element[field] != undefined && element[field] != '.' && element[field] != 'N\/A')\n              ret.push(element[field]);\n      });\n    } else {\n      jQuery.each(t_data, function(idx, element) {\n          if (element != undefined && element != '.' && element != 'N\/A')\n              ret.push(element);\n      });\n    }\n    \n  \tif ( ret.length \u003E 0 ) \n\t\t\/\/return [ret.join(', '), {text : unit, style: 'unit'}, {text : suffix, style: 'suffix'}];\n\t\treturn [ {text : ret.join(', '), style:_style, \/*noWrap: true*\/}, {text : unit, style: 'unit', noWrap: true}, {text : suffix, style: 'suffix', noWrap: true}]; \/\/ Modif Wil brochure A5 2020  \/\/ #41 add noWrap: true\n \telse \n      \treturn '';\n}\n\nccppm_global.print_projection = function(p_data, el_class='intertitre', guest_label='avec invit\u00e9\u00b7e') {\n    if (p_data == false)\n        return '';\n  \n    var ret = [];\n    var sep = ' \u00b7 ';\n  \tp_data.sort(function(a,b) {\n      var a_dt = a.date.isoformat+' '+a.start_and_stop_time.begin;\n      var b_dt = b.date.isoformat+' '+b.start_and_stop_time.begin;\n      if (a_dt \u003C b_dt)\n        return -1;\n      if (a_dt \u003E b_dt)\n        return 1;\n\t  return 0;\n    });\n    jQuery.each(p_data, function(idx, element) {\n        if (element.date != undefined && element.date.date != '')\n          ret.push({'text':element.date.date.replace('\/'+ccppm_global.editionYear, ''), style: 'pdate'});\n        \/*if (element.start_and_stop_time != undefined && element.start_and_stop_time != '')\n          ret.push(', ', {'text':element.start_and_stop_time.begin, style: 'pbegin'},{'text':' \u203a ', style: 'psep'},{'text':element.start_and_stop_time.end, style: 'pend'});*\/\n        if (element.start_and_stop_time != undefined && element.start_and_stop_time != '')\n          ret.push(' ', {'text':element.start_and_stop_time.begin, style: 'pbegin'});\n        \n      \tif (element.room != undefined && element.room != '') {\n          console.log(element.room.name);\n      \t\tif (element.room.name == 'Grande salle' || element.room.name == 'Salle festival')\n          \t\tsep = ' \u2014 ';\n         \telse\n                ret.push(' \u2014 ', {'text':element.room.name, style: 'proom'});\n\n        }\n        if (element.room.cinema != undefined && element.room.cinema != '')\n          if ( element.room.cinema.name == \"Maison de la Culture d'Amiens\" ) \n            ret.push(sep, {'text':'MCA', style: 'pcinema'});\n          else if ( element.room.cinema.name == \"Centre culturel Jacques Tati\" ) \n            ret.push(sep, {'text':'Centre culturel J. Tati', style: 'pcinema'});\n          else \n            ret.push(sep, {'text':element.room.cinema.name.toUpperCase(), style: 'pcinema'});\n        \n      \tif (element.is_guest != undefined && element.is_guest != '')\n          ret.push(' ', {'text': ' \u2022 '+guest_label, style: 'pguest', color: ccppm_global.black}); \/\/#43 ccppm_global.editionColor\n      \tret.push('\\n');\n });\n\n  var output = [ {text: '', style: el_class}];\n  $.each(ret, function(idx, element) {\n      output.push(element);\n    });\n  return output;\n}\n\nccppm_global.print_contact = function(t_data, title, el_last=false, el_class='articles', el_first=true) {\n   var last = '  \u00b7\u200a';\n   var first = '  \u00b7 ';\nif (el_last == true)\n      last = '';\nif (el_first == true)\n      first = '';\n  \nif (t_data == false)\n      return '';\n  var ret = [];\n  jQuery.each(t_data, function(idx, element) {\n      if (element.surname != undefined && element.surname != '' && contact.surname != '.') {\n          ret.push(' ', element.surname);\n      } else {\n        if (element.firstname != undefined && element.firstname != '.' && element.name)\n            ret.push(' ', element.firstname);\n        if (element.name != undefined && element.name != '.' && element.name)\n            ret.push(' ', element.name);\n      }\n      if (element.organization || element.structure) {\n          ret.push(',');\n          if (element.organization != undefined && element.organization != '.' && element.organization)\n            ret.push(' ', element.organization);\n          if (element.structure != undefined && element.structure != '.' && element.structure)\n            ret.push(' ', element.structure);\n        }\n      if (element.email != undefined && element.email != '.' && element.email)\n          ret.push(', ', {'text': element.email, style: 'email', 'italics': true, 'link': 'mailto:'+element.email}, '');\n    });\n  \n  ret.push(last);\n  var output = [first, {text: title+'', style: el_class}];\n  $.each(ret, function(idx, element) {\n      output.push(element);\n    });\n  return output;\n}\n\nccppm_global.print_url = function(t_data, title, el_last=false, el_class='articles', el_first=true) {\n   \tvar last = '  \u00b7 ';\n   \tvar first = '  \u00b7\u200a';\n\tif (el_last == true)\n      \tlast = '';\n\tif (el_first == true)\n      \tfirst = '';\n  \n\tif (t_data == false)\n      \treturn '';\n  \tvar ret = [];\n  \tjQuery.each(t_data, function(idx, element) {\n      \tif (element != undefined && element != '.')\n          ret.push({text: element.replace('http:\/\/', '').replace('https:\/\/', ''), 'link': element});\n    });\n    \n  \tret.push(last);\n    var output = [first, {text: ((title != '')?title+' ':''), style: el_class}];\n    $.each(ret, function(idx, element) {\n        output.push(element);\n      });\n    return output;\n}\n\nccppm_global.print_contact_name = function(t_data, title, longtitle, el_last=false, el_class='articles', el_first=true, d_section=[], nonBreakableSpace=true, abbrvFirstname=false) {\n   \tvar last = '  \u00b7\u200a';\n   \tvar first = '  \u00b7 ';\n  \tvar space = '\u202f'; \/\/ '\u202f' \u003C\u003C unbreakle space\n\tif (el_last == true)\n      \tlast = '';\n\tif (el_first == true)\n      \tfirst = '';\n\tif (nonBreakableSpace == false)\n      \tspace = ' ';\n \n  \tif (t_data == false)\n      \treturn '';\n  \n  \t\/\/ Long titre pour la comp\u00e9tition  \n    var sectionCompetition = d_section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionID);\n    var sectionCompetitionLM = d_section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionLMID);\n    var sectionCompetitionDC = d_section.findIndex((item) =\u003E item.term_id === ccppm_global.competitionDCID);\n    var sectionOuverture = d_section.findIndex((item) =\u003E item.term_id === ccppm_global.ouvertureID);\n\tif ( sectionCompetition != -1 || sectionCompetitionLM != -1 || sectionCompetitionDC != -1 || sectionOuverture != -1 ) \n        title = longtitle;\n  \n  \tvar ret = [];\n  \tjQuery.each(t_data, function(idx, element) {\n      \tvar c = [];\n      \tif (element.firstname != undefined && element.firstname != '.')\n          c.push((abbrvFirstname)?element.firstname.slice(0,1)+'.':element.firstname);\n      \tif (element.lastname != undefined && element.lastname != '.')\n          c.push(element.lastname);\n      \tif (c)  \n\t      ret.push(c.join(' '));\n    });\n  \treturn [first, {text: title+space, style: el_class}, ret.join(', ') + last];\n}\n\n\/\/ Bordered title \nccppm_global.print_bordered_title = function(title, color) {\n  \/*var dimensions = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7.5:6;\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?5.2:4.1;\n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.1;\n  var paddingAjust = (ccppm_global.isSafari==true)?2:.5;\n  var verticalGap = (ccppm_global.catalogueID=='A4')?10:7.1;*\/\n \n  var dimensions = (ccppm_global.catalogueID=='A4')?11:7.4;\n  var fontSize = (ccppm_global.catalogueID=='A4')?7.5:6;\n  \/\/var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?3.9:3.1;\n  var fontSizeCanvas = (ccppm_global.catalogueID=='A4')?5.2:4.1;\n  if (ccppm_global.isSafari==true)\n  fontSizeCanvas = (ccppm_global.catalogueID=='A4')?5.2:4.1;\n  var paddingLR = (ccppm_global.catalogueID=='A4')?3:2.2;\n  var verticalGap = (ccppm_global.catalogueID=='A4')?10:7.1;\n  var ajustWidth = (ccppm_global.catalogueID=='A4')?1:1.5;\n  if (ccppm_global.isSafari==true)\n  ajustWidth = (ccppm_global.catalogueID=='A4')?1:2.5;\n  var round = 0;  \n  \n  if (!title)\n    return [];\n  \n  \/\/ Measure text width from string\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext(\"2d\");\n  ctx.font = fontSizeCanvas+\"pt Bureau_Grot_Condensed\";        \n  var width = ctx.measureText(title).width;\n  \n  \/\/ Alternativ method\n  var slength = title.length;\n  \/\/var paddingLR = 3;\n  var ret = [ {\n          stack: [\n          {\n              canvas: [\n                  {\n                      type: 'rect',\n                      x: 0,\n                      y: 0,\n                      w: width+(paddingLR*2)+ajustWidth,\n                      h: dimensions,\n                      r: round,\/\/2\n                      lineWidth: .5,\n                      lineColor: (color!='')?color:ccppm_global.black,\n                      \/\/color: '#ffffe0',\n                  },\n              ]\n          },\n          {\n              color: (color!='')?color:ccppm_global.black,\n              fontSize: fontSize,\n              font: 'Bureau_Grot_Condensed',\n\t\t\t  characterSpacing: 0, \/\/.2\n              bold: true,\n              \/\/absolutePosition: {x: 0, y: 0},\n              margin: [paddingLR,-verticalGap,0,0],\n              text: [ title.toUpperCase() ],\n          }\n      ],\n        margin: [0,0,(ccppm_global.catalogueID=='A4')?6:3,0], \/\/ Marges entre \u00e9lements d'un table sans padding\n      }];\n \t return ret;\n}\n\n\/\/ #44 FCTS \nccppm_global.get_htmlToPdfmake = function(html, wrapped = true, bodySize = 8.5, paragraphMargins = [0, 4, 0, 4]) {\n  \n  \/\/ Prevent Markdown v2 bug\n  if (html.length \u003E 0) html = html.replace(\/\u003Cbr\\s*[\\\/]?\u003E\/gi,' \u003Cbr\/\u003E ');\n  \n  \/\/ Get pdfmake\n  if (html != '') {\n    console.log('html::', html);\n    var html = htmlToPdfmake('\u003Cspan\u003E'+html+'\u003C\/span\u003E', {defaultStyles:{\n      span: { fontSize: bodySize, lineHeight: 1.3, characterSpacing: 0.1, margin:paragraphMargins}, \/\/noWrap:true,\n      p: { fontSize: bodySize, lineHeight: 1.3, characterSpacing: 0.1, margin:paragraphMargins}, \/\/noWrap:true,\n      b: {},\n      strong: {},\n      i: { fontSize: bodySize*1.2, characterSpacing: -0.2, color: [0,0,0,85] }, \/\/20% more\n      em: { fontSize: bodySize*1.2, characterSpacing: -0.2, color: [0,0,0,85] }, \/\/20% more\n      h4: { fontSize: bodySize*1.06, color: [0,0,0,85], marginBottom:5 }, \/\/25% more\n      a: {decoration:'underline'},\n      table: {layout: 'noBorders'},\n      sup: {fontSize:bodySize\/1.3, bold:true},\n      sub: {fontSize:bodySize\/1.3, bold:true},\n    }});\n  }\n  \n  \/\/ Return \n  if ( wrapped ) return [{stack: html, color: ccppm_global.black, style: 'bodySectionHTML', justify:'left'}];\n  else return html;\n}\n\n\/\/ GLOBAL FCTS\n\n\/\/ DETECT NAVIGATORS\nccppm_global.isSafari = false;\nccppm_global.isChrome = false;\nvar ua = navigator.userAgent.toLowerCase(); \nif (ua.indexOf('safari') != -1) { \n  if (ua.indexOf('chrome') \u003E -1) {\n    ccppm_global.isChrome = true;\n  } else {\n    ccppm_global.isSafari = true;\n  }\n}\nccppm_global.isFirefox = (ua.indexOf('firefox') != -1)?true:false;\nccppm_global.isMacintosh = (ua.indexOf('macintosh') != -1)?true:false;\n\n\/\/ TAB \nvar tab_last = false;\n\nccppm_global.set_tab = function(option = {}) {\n  console.log('set_tab ', option);\n  default_options = {\n    'title': false,\n    'subtitle': false,\n    'color': ccppm_global.editionColor,\n    'hidden': false,\n    'forceDisplay': false,\n  }\n  var r_options = {};\n  $.each(default_options, function(k, v) {\n    if (option[k])\n      r_options[k] = option[k];\n    else\t\n      r_options[k] = v;\n  });\n  return r_options;\n}\n\nccppm_global.get_tab_position_in_currentPage = function(object, currentPage) {\n  for(var p = 0; p \u003C object.positions.length; p++) {\n    if (object.positions[p].pageNumber == currentPage) {\n\/\/\t  console.log('ccppm_global.get_tab_position_in_currentPage RETURN TRUE', currentPage);\n      return true;\n    }\n  }\n  return false;\n}\n\nccppm_global.get_tab_stack_rec = function (content, currentPage) {\n\/\/  console.log(' \u003E\u003E passage dans ccppm_global.get_tab_stack_rec', content);\n\n  var tab = [];\n\tif (content.contentTab && currentPage == content.positions[0].pageNumber){\n      tab.push(content.contentTab);\n      if (! content.contentTab.hidden) {\n        tab_last = content.contentTab;\n      }\n\t} else if(content.stack && content.stack.length) {\n      for(var s = 0; s \u003C content.stack.length; s++) {\n        var stack = content.stack[s];\n\/\/        console.log('stack ', stack);\n        if (stack.positions.length) {\n          if (stack.contentTab && currentPage == stack.positions[0].pageNumber){\n            if (currentPage == stack.positions[0].pageNumber) {\n\/\/              if (stack.contentTab.hidden == false) {\n\/\/\t              console.log('stack ==\u003E 1');\n                tab.push(stack.contentTab);\n                tab_last = stack.contentTab;\n\/\/              }\n            }\n          } else if (stack.contentTab && currentPage \u003E stack.positions[0].pageNumber){\n\/\/            console.log('STACK =\u003E PASSE ICI stack.contentTab && currentPage \u003E stack.positions[0].pageNumber', stack);\n\/\/              if (stack.contentTab.hidden == false) {\n                tab_last = stack.contentTab;\n\n\/\/\t              console.log('stack ==\u003E 1', tab_last);\n\/\/            }\n          } else if (stack.columns) {\n\/\/              console.log('stack ==\u003E 2');\n\/* ancienne version\n              for(var c = 0; c \u003C stack.columns.length; c++) {\n            \tif (ccppm_global.get_tab_position_in_currentPage(stack, currentPage)) {\n                  console.log('COLUMNS TAB', stack);\n                  var column = stack.columns[c];\n                  tab = tab.concat(ccppm_global.get_tab_stack_rec(column, currentPage));\n                  console.log('COLUMNS TAB =\u003E ', currentPage, tab);\n                  if (tab.length)\n                  \ttab_last = tab[tab.length-1];\n*\/\n\/\/            console.log('STACK \u003E COLUMNS TAB', stack);\n            tab = tab.concat(ccppm_global.get_tab_columns_rec(stack, currentPage));\n\/\/            console.log('STACK \u003E COLUMNS TAB =\u003E ', currentPage, tab);\n            if (tab.length)\n              tab_last = tab[tab.length-1];\n          }\n        }\n      }\n  \t}\n \tif (tab.length)\n      return tab;\n\/\/  \tif (tab_last)\n\/\/  \t\treturn [tab_last];\n \treturn [];\n}\n\nccppm_global.get_tab_columns_rec = function (content, currentPage) {\n\/\/  console.log(' \u003E\u003E passage dans ccppm_global.get_tab_columns_rec', content);\n  var tab = [];\n\tif (content.contentTab && currentPage == content.positions[0].pageNumber){\n      tab.push(content.contentTab);\n      if (! content.contentTab.hidden) {\n        tab_last = content.contentTab;\n      }\n\t} else if(content.columns && content.columns.length) {\n\/\/      console.log(' \u003E\u003E\u003E passage dans \t} else if(content.columns && content.columns.length) {');\n      for(var s = 0; s \u003C content.columns.length; s++) {\n        var columns = content.columns[s];\n\/\/        console.log('columns ', columns);\n        if (columns.positions.length) {\n          if (columns.contentTab && currentPage == columns.positions[0].pageNumber){\n            if (currentPage == columns.positions[0].pageNumber) {\n\/\/              if (stack.contentTab.hidden == false) {\n\/\/\t              console.log('stack ==\u003E 1');\n                tab.push(columns.contentTab);\n                tab_last = columns.contentTab;\n\/\/              }\n            }\n          } else if (columns.contentTab && currentPage \u003E columns.positions[0].pageNumber){\n\/\/            console.log('columns =\u003E PASSE ICI columns.contentTab && currentPage \u003E columns.positions[0].pageNumber', columns);\n\/\/              if (stack.contentTab.hidden == false) {\n                tab_last = columns.contentTab;\n\n\/\/\t              console.log('stack ==\u003E 1', tab_last);\n\/\/            }\n          } else if (columns.stack) {\n\/\/              console.log('columns.stack ==\u003E 2');\n              for(var c = 0; c \u003C columns.stack.length; c++) {\n            \tif (ccppm_global.get_tab_position_in_currentPage(columns, currentPage)) {\n\/\/                  console.log('COLUMNS \u003E STACK TAB', currentPage);\n                  var stack = columns.stack[c];\n                  tab = tab.concat(ccppm_global.get_tab_stack_rec(stack, currentPage));\n\/\/                  console.log('COLUMNS \u003E STACK TAB =\u003E ', currentPage, tab);\n                  if (tab.length)\n                  \ttab_last = tab[tab.length-1];\n              }\n          \t}\n          }\n        }\n      }\n  \t}\n \tif (tab.length)\n      return tab;\n\/\/  \tif (tab_last)\n\/\/  \t\treturn [tab_last];\n \treturn [];\n}\n\nccppm_global.get_tab = function (content, currentPage) {\n\/\/  console.log('test interne ccppm_global.get_tab', currentPage);\n\/\/  console.log('content', content);\n  var tab = [];\n  for(var l = 0; l \u003C content.length; l++){\n\/\/    console.log('content[l]', l, content[l]);\n    if (content[l].positions.length == 0 && content[l].contentTab) {\n\/\/      if (content[l].contentTab.hidden == false) {\n      \ttab.push(content[l].contentTab);\n\/\/      }\n\/\/      console.log('Page ', currentPage, 'passe ici content[l].positions.length == 0 && content[l].contentTab');\n    } else if(content[l].positions.length && content[l].contentTab && currentPage == content[l].positions[0].pageNumber){\n\/\/      if (content[l].contentTab.hidden == false) {\n\t  \ttab.push(content[l].contentTab);\n\/\/        tab_last=content[l].contentTab; \/\/ corrig\u00e9 justin pb 2021-10-19... \n\/\/      }\n\/\/      console.log('Page ', currentPage, 'passe ici currentPage == content[l].positions[0].pageNumber');\n    } else if(content[l].positions.length && content[l].contentTab && currentPage \u003E= content[l].positions[0].pageNumber){\n\t  tab_last=content[l].contentTab;\n\/\/      console.log('Page ', currentPage, 'passe ici currentPage \u003E= content[l].positions[0].pageNumber');\n    } else if(content[l].columns) {\n      tab = tab.concat(ccppm_global.get_tab_columns_rec(content[l], currentPage));\n\/\/      tab_last = tab[tab.length - 1];\n\/\/      console.log('Page ', currentPage, 'passe ici if(content[l].columns) {');\n    } else if(content[l].stack) {\n      tab = tab.concat(ccppm_global.get_tab_stack_rec(content[l], currentPage));\n\/\/      tab_last = tab[tab.length - 1];\n\/\/      console.log('Page ', currentPage, 'passe ici if(content[l].stack) {');\n    }\n  }\n\/\/  console.log(currentPage, \"tab\", tab);\n  if (tab.length)\n\t return tab;\n  if (tab_last) {\n    return [tab_last];\n  }\n  return [{\n    'title': false,\n    'subtitle': false,\n    'color': ccppm_global.editionColor,\n    'hidden': true,\n  }];\n}\n\n\/\/ \u003C #43\n\/\/ ccppm_global.get_tab_display_rect = function(currentPage, pageSize, tab) {\n\/\/ \/\/  console.log('ccppm_global.cropMarksLength ',ccppm_global.cropMarksLength);\n\/\/ \/\/  console.log('ccppm_global.cropMarksSpace ',ccppm_global.cropMarksSpace);\n\/\/ \/\/  console.log('pageSize.height ',pageSize.height);\n  \n\/\/   var rect = [];\n\/\/   var y = ccppm_global.cropMarksLength - ccppm_global.cropMarksSpace;\n\/\/   for(var t = 0; t \u003C tab.length; t++){\n\/\/     var t_tab = tab[t];\n\/\/     if (t_tab.hidden == false) {\n\/\/       var count = 0;\n\/\/       if (t == 0)\n\/\/         count += 1;\n\/\/       if (t == tab.length - 1)\n\/\/         count += 1;\n\n\/\/       var h = (pageSize.height - 2 * ccppm_global.cropMarksLength) \/ tab.length + ccppm_global.cropMarksSpace * count;\n\n\/\/       rect.push({\n\/\/         type: 'rect',\n\/\/         x: ((currentPage + 1)  % 2) ? ccppm_global.cropMarksLength - ccppm_global.cropMarksSpace : pageSize.width - ccppm_global.tabWidth - ccppm_global.cropMarksLength, \n\/\/         y: y,\n\/\/         w: ccppm_global.tabWidth + ccppm_global.cropMarksSpace, \n\/\/         h: h,\n\/\/         color: t_tab.color, \/\/ Couleur CMJN\n\/\/       });\n\/\/       y += h;\n\/\/     }\n\/\/     console.log('rect ', rect, tab); \n\/\/   }\n\/\/   return rect;\n\/\/ }\n\n\/\/ Nouvelle version #44 : permet d'afficher \u00e0 la demande un tabl transparent si color !== 'transparent' et affiche un demi-tab de base d\u00e9sormais afin de coller \u00e0 la maquette #44\nccppm_global.get_tab_display_rect = function(currentPage, pageSize, tab) {\n\/\/  console.log('ccppm_global.cropMarksLength ',ccppm_global.cropMarksLength);\n\/\/  console.log('ccppm_global.cropMarksSpace ',ccppm_global.cropMarksSpace);\n\/\/  console.log('pageSize.height ',pageSize.height);\n\/\/  console.log('tab:: ', tab.forceDisplay);\n  \n  var rect = [];\n  var y = ccppm_global.cropMarksLength - ccppm_global.cropMarksSpace;\n  for(var t = 0; t \u003C tab.length; t++){\n    var t_tab = tab[t];\n    if (t_tab.hidden == false) {\n      var count = 0;\n      if (t == 0)\n        count += 1;\n      if (t == tab.length - 1)\n        count += 1;\n\n\tconsole.log('count::', count, 'tab.length::', tab.length, 'currentPage::', currentPage, 't_tab::', t_tab, t_tab.forceDisplay == true);\n\n      var h = (pageSize.height - 2 * ccppm_global.cropMarksLength) \/ tab.length + ccppm_global.cropMarksSpace * count;\n\n      if ( t_tab.color == 'transparent' || (((currentPage +1)  % 2) && t_tab.forceDisplay == false) ) {\n      \t\/\/ Fonctionnement sp\u00e9cial : soit on demande un tab transparent, soit on se trouve sur la page de gauche\n        rect.push({\n          type: 'rect',\n          x: ((currentPage + 1)  % 2) ? ccppm_global.cropMarksLength - ccppm_global.cropMarksSpace : pageSize.width - ccppm_global.tabWidth - ccppm_global.cropMarksLength, \n          y: y,\n          w: 0, \n          h: h,\n          color: 'white', \/\/ Couleur CMJN\n        }); \/\/ Fake rect with 0 width otherwise crop marks are issued \n      } else { \n        \/\/ Fonctionnement classique \n        if ( tab.length \u003C 2 ) {\n          rect.push({\n            type: 'rect',\n            x: ((currentPage + 1)  % 2) ? ccppm_global.cropMarksLength - ccppm_global.cropMarksSpace : pageSize.width - ccppm_global.tabWidth - ccppm_global.cropMarksLength, \n            y: y,\n            w: ccppm_global.tabWidth + ccppm_global.cropMarksSpace, \n            h: h\/2,\n            color: t_tab.color, \/\/ Couleur CMJN\n          }); \n          rect.push({\n            type: 'rect',\n            x: ((currentPage + 1)  % 2) ? ccppm_global.cropMarksLength - ccppm_global.cropMarksSpace : pageSize.width - ccppm_global.tabWidth - ccppm_global.cropMarksLength, \n            y: y+ h\/2,\n            w: 0, \n            h: h\/2,\n            color: 'white',\n          });\n        } else {\n                    rect.push({\n            type: 'rect',\n            x: ((currentPage + 1)  % 2) ? ccppm_global.cropMarksLength - ccppm_global.cropMarksSpace : pageSize.width - ccppm_global.tabWidth - ccppm_global.cropMarksLength, \n            y: y,\n            w: ccppm_global.tabWidth + ccppm_global.cropMarksSpace, \n            h: h,\n            color: t_tab.color, \/\/ Couleur CMJN\n          }); \n        }\n      }\n      y += h;\n    }\n    console.log('rect ', rect, tab); \n  }\n  return rect;\n}\n\nccppm_global.get_tab_display = function(currentPage, pageSize, tab) {\n  console.log('get_tab_display', currentPage, pageSize, ccppm_global.cropMarksLength, tab);\n  var r_tab = [{\n        canvas: ccppm_global.get_tab_display_rect(currentPage, pageSize, tab),\n      }];\n  var y = ccppm_global.cropMarksLength;\n  var border_bottom = 24; \/\/ #40 = 90 \n\n  if (tab.length \u003E 2)\n    border_bottom = border_bottom \/ (tab.length * 2);\n  var h = (pageSize.height - 2 * ccppm_global.cropMarksLength) \/ tab.length;\n  var tab_display = false;\n  for(var t = 0; t \u003C tab.length; t++){\n    t_tab = tab[t];\n    if (t_tab.hidden == false) {\n      tab_display = true;\n\/\/    console.log('y : ', y);\n      r_tab.push({ \n          table: {\n            widths: [ ccppm_global.tabWidth-10 ],\n            body: ccppm_global.rotatedTextTableBody(t_tab),\n          },\n          layout: \"noBorders\",\n          absolutePosition: { x:((currentPage + 1) % 2) ? ccppm_global.cropMarksLength + 2 : pageSize.width - ccppm_global.tabWidth - 2 - ccppm_global.cropMarksLength, y:y + border_bottom}\n          });\n    }\n    y += h;\n  }\n    if (ccppm_global.cropMarksDisplay) {\n      \tconsole.log(\"ccppm_global.cropMarksDisplay\", tab_display);\n    \tr_tab.push(ccppm_global.cropMarksDisplay(!tab_display,currentPage));\n    }\n  console.log('fin get_tab_display');\n\treturn r_tab;\n}\n\/\/ MARKDOWN\n\n\nccppm_global.documentContentParserRegExp = function(val, regExpStr, formatter, groupText, last_style)\n{\n\/\/  console.log('val \/\/ reg \/\/ last_style', val, regExpStr, last_style);\n    var regExp = new RegExp(regExpStr, 'gm');\n    var parts = [];\n\tif (!val)\n      return [];\n\tfor (var i=0; i\u003Cval.length; i++) {\n        var line = val[i];\n        parts = parts.concat(ccppm_global.documentContentParserRegExpLine(line, regExp, formatter, groupText, last_style));\n    }\n\n  \tif (parts.length \u003E 1)\n      return parts;\n  \tif (parts.length == 1 && typeof(parts[0]) == typeof({}))\n      return parts;\n  \treturn val;\n}\n\nccppm_global.documentContentParserRegExpLine = function(line, regExp, formatter, groupText, last_style)\n{\n    var parts = [];\n    var lastIndex = 0;\n    var changed = false;\n    if ((line instanceof Object || $.isArray(line)) && line['style'] == last_style) {\n      \tline = line['text'];\n        changed = true;\n    }\n  var match = false;\n    while (match = regExp.exec(line)) {\n        if (match.index \u003E lastIndex) {\n          changed = false;\n          if (last_style)\n            parts.push({text: line.substring(lastIndex, match.index), style: last_style});\n          else\n         \tparts.push(line.substring(lastIndex, match.index));\n        }\n        var data = {};\n        data.text = match[1];\n        data = formatter(data);\n        parts.push(data);\n        lastIndex = match.index + match[0].length;\n    }\n\n    if (parts.length) {\n        if (lastIndex \u003C line.length) {\n          changed = false;\n          if (last_style)\n            parts.push({text: line.substring(lastIndex), style: last_style});\n          else\n            parts.push(line.substring(lastIndex));\n        }\n        return parts;\n    }\n  \tif (changed && last_style)\n      line = {text: line, style: last_style};\n\/\/\tconsole.log('line', line);\n    return line;\n}\n\nccppm_global.documentContentParserConcatStyleSuffix = function(style, suffix) {\n  var output = '';\n  if (Array.isArray(style)) {\n    output = [];\n    for (var i = 0; i \u003C style.length; i++)\n      output.push(style[i]+suffix);\n  } else {\n    output = style + suffix;\n  }\n\/\/  console.log('ccppm_global.documentContentParserConcatStyleSuffix', output);\n  return output;\n}\n\nccppm_global.documentContentParserValue = function(val, last_style) {\n  \tif (last_style) {\n       var rules = [\n          ['\\\\\\*\\\\\\*\\\\\\*([^*]+?)\\\\\\*\\\\\\*\\\\\\*', {'style': ccppm_global.documentContentParserConcatStyleSuffix(last_style, '-md-label')}], \/\/ ***value*** \/\/ MAJ WIL\n          ['\\\\\\*\\\\\\*([^*]+?)\\\\\\*\\\\\\*', {'style': ccppm_global.documentContentParserConcatStyleSuffix(last_style, '-md-bold')}], \/\/ **value** Wil a retir\u00e9 'bold': true, afin de gerer dans le style directement\n          ['\\\\\\*([^*]+?)\\\\\\*', {'style': ccppm_global.documentContentParserConcatStyleSuffix(last_style, '-md-italics')}], \/\/ *value* Wil a retir\u00e9 'italics': true, afin de gerer dans le style directement \n          ['\\\\\\#\\\\\\#([^#]+?)\\\\\\#\\\\\\#', {'style': ccppm_global.documentContentParserConcatStyleSuffix(last_style, '-md-huge')}], \/\/ ##value## \n          ['\\\\\\#([^#]+?)\\\\\\#', {'style': ccppm_global.documentContentParserConcatStyleSuffix(last_style, '-md-small')}], \/\/ #value# \n\/*         \n          ['^###(.*)', {'style': last_style+'-md-help'}], \/\/ ### Small\/gray help\n          ['^##(.*)', {'style': last_style+'-md-subheader'}], \/\/ ## Header\n          ['^#(.*)', {'style': last_style+'-md-header'}] \/\/ # Subheader\n*\/\n      ]; \/\/ WIL a retir\u00e9 'italics': true, de *value*\n    } else {\n       var rules = [\n          ['\\\\\\*\\\\\\*\\\\\\*([^*]+?)\\\\\\*\\\\\\*\\\\\\*', {'style': 'label'}], \/\/ ***value*** \/\/ MAJ WIL\n          ['\\\\\\*\\\\\\*([^*]+?)\\\\\\*\\\\\\*', {'bold': true}], \/\/ **value** \n          ['\\\\\\*([^*]+?)\\\\\\*', {'italics': true}], \/\/ *value* \n          ['\\\\\\#\\\\\\#([^#]+?)\\\\\\#\\\\\\#', {'style': 'huge'}], \/\/ ##value## \n          ['\\\\\\#([^#]+?)\\\\\\#', {'style': 'small'}], \/\/ #value## \n\/*\n\t\t  ['^###(.*)', {'style': 'help'}], \/\/ ### Small\/gray help\n          ['^##(.*)', {'style': 'subheader'}], \/\/ ## Header\n          ['^#(.*)', {'style': 'header'}] \/\/ # Subheader\n*\/\n      ];\n    }\n    var parts = typeof val === 'string' ? [val] : val;\n    for (var i=0; i\u003Crules.length; i++) {\n        var rule = rules[i];\n        var formatter = function(data) {\n            return $.extend(data, rule[1]);\n        }\n        parts = ccppm_global.documentContentParserRegExp(parts, rule[0], formatter, true, last_style);\n    }\n\n  \tif (parts.length \u003E 1)\n      return parts;\n  \tif (parts.length == 1 && typeof(parts[0]) == typeof({}))\n      return parts;\n  \treturn val;\n}\n\nccppm_global.documentContentParserRec = function(element, last_style = false) {\n  if (element instanceof Object || $.isArray(element)){\n    $.each(element, function(key, value) {\n      if (key == 'style') {\n        last_style = value;\n      }\n    });\n    $.each(element, function(key, value) {\n      \tif (value instanceof Object || $.isArray(value)) {\n          element[key] = ccppm_global.documentContentParserRec(value, last_style);\n        } else if (key == 'text') {\n          element[key] = ccppm_global.documentContentParserValue(value, last_style);\n        }\n    });\n  }\n  return element;\n}\n\nccppm_global.documentContentParser = function(documentContent) {\n\/\/\treturn documentContent;\n  \treturn ccppm_global.documentContentParserRec(documentContent);\n}\n\n\/\/ALIGN TABLE CELL VERCIALLY\n\/\/https:\/\/github.com\/bpampuch\/pdfmake\/issues\/74\n\nccppm_global.mapTableBodies = function(innerTableCell) {\n  const findInlineHeight = this.findInlineHeight(\n    innerTableCell,\n    maxWidth,\n    usedWidth\n  );\n\n  usedWidth = findInlineHeight.width;\n  return findInlineHeight.height;\n}\n\nccppm_global.findInlineHeight = function(cell, maxWidth, usedWidth = 0) {\n    let calcLines = (inlines) =\u003E {\n        if (!inlines)\n            return {\n                height: 0,\n                width: 0,\n            };\n        let currentMaxHeight = 0;\n        let lastHadLineEnd = false;\n        for (const currentNode of inlines) {\n            usedWidth += currentNode.width;\n            if (usedWidth \u003E maxWidth || lastHadLineEnd) {\n              currentMaxHeight += currentNode.height;\n              usedWidth = currentNode.width;\n            } else {\n              currentMaxHeight = Math.max(currentNode.height, currentMaxHeight);\n            }\n            lastHadLineEnd = !!currentNode.lineEnd;\n        }\n        return {\n            height: currentMaxHeight,\n            width: usedWidth,\n        };\n    }\n    if (cell._offsets) {\n      usedWidth += cell._offsets.total;\n    }\n    if (cell._inlines && cell._inlines.length) {\n        return calcLines(cell._inlines);\n    }  else if (cell.stack && cell.stack[0]) {\n        return cell.stack.map(item =\u003E {\n            return ccppm_global.findInlineHeight(item, maxWidth);\n        }).reduce((prev, next) =\u003E {\n            return {\n            height: prev.height + next.height,\n            width: Math.max(prev.width + next.width)\n            };\n        });\n    } else if (cell.table) {\n      let currentMaxHeight = 0;\n      for (const currentTableBodies of cell.table.body) {\n        const innerTableHeights = currentTableBodies.map(ccppm_global.mapTableBodies);\n        currentMaxHeight = Math.max(...innerTableHeights, currentMaxHeight);\n      }\n      return {\n        height: currentMaxHeight,\n        width: usedWidth,\n      };\n    } else if (cell._height) {\n      usedWidth += cell._width;\n      return {\n        height: cell._height,\n        width: usedWidth,\n      };\n    }\n\n    return {\n      height: null,\n      width: usedWidth,\n    };\n}\n\nccppm_global.applyVerticalAlignment = function(node, rowIndex, align, manualHeight = 0) { \/\/ New default argument\n    const allCellHeights = node.table.body[rowIndex].map(\n      (innerNode, columnIndex) =\u003E {\n        const mFindInlineHeight = ccppm_global.findInlineHeight(\n          innerNode,\n          node.table.widths[columnIndex]._calcWidth\n        );\n        return mFindInlineHeight.height;\n      }\n    );\n    const maxRowHeight = manualHeight ? manualHeight[rowIndex] : Math.max(...allCellHeights); \/\/ handle manual height\n    node.table.body[rowIndex].forEach((cell, ci) =\u003E {\n      if (allCellHeights[ci] && maxRowHeight \u003E allCellHeights[ci]) {\n        let topMargin;\n        \n        let cellAlign = align;\n        if (Array.isArray(align)) {\n            cellAlign = align[ci];\n        }\n        \n        if (cellAlign === 'bottom') {\n          topMargin = maxRowHeight - allCellHeights[ci];\n        } else if (cellAlign === 'center') {\n          topMargin = (maxRowHeight - allCellHeights[ci]) \/ 2;\n        }\n        \n        if (topMargin) {\n            if (cell._margin) {\n              cell._margin[1] = topMargin;\n            } else {\n              cell._margin = [0, topMargin, 0, 0];\n            }\n        }\n      }\n    });\n}\n\/* EXAMPLE\nvar dd = {\n    content: [\n        {\n            table: {\n                widths: [100, 100, 200],\n                heights: [100, 100],\n                body: [\n                    [{text: 'AAA', style: {fontSize: 30}}, {text: 'BBB', style: {fontSize: 20}}, {text: 'CCC', style: {fontSize: 10}}],\n                    [['AAA', 'AAA', 'AAA'], ['BBB', 'BBB'], 'CCC']\n                ]\n            },\n            layout: { paddingTop: function (index, node) {\n                ccppm_global.applyVerticalAlignment(node, index, ['center','top','bottom'], [100, 100]); \/\/ Add height array as argument\n                return 0;\n            }, }\n        }\n    ]\n}\n*\/\n\n\/\/ SVG\nccppm_global.ico_is3D = '\u003Csvg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 64 64\"\u003E\u003Cdefs\u003E\u003Cstyle\u003E.a{fill:#000000;} .a{fill:cmyk(0, 0, 0, 100)}\u003C\/style\u003E\u003C\/defs\u003E\u003Ctitle\u003EIs 3D\u003C\/title\u003E\u003Cpath class=\"a\" d=\"M57.14,23.52c1.2.6,2.06,1.72,1.08,3.81a62.12,62.12,0,0,1-5,9.09c-1.84,2.47-5.09,3.46-10.31,3.58l-9.6.08H26.44l-11.54.07-5.34,0S3.27,40.37,2.91,37c-1.32,4.9,6.85,4.55,6.85,4.55l5.6,0,12.11-.07h7.18l10.07-.09c5.48-.13,8.89-1.17,10.81-3.76a65.14,65.14,0,0,0,5.26-9.53C62.5,24.55,58.86,23.71,57.14,23.52Z\"\/\u003E\u003Cpath class=\"a\" d=\"M52.33,22.57,36.79,22.5l-2.06,3.43-.11.16h.65s7.66,0,11.56,0,2.32,2.73,2.32,2.73-.38.7-2,3.46-5.59,3-5.59,3H35.1l4-6.62h-6l-3.51,5.44h0l-3,4.67H33l0,0,7.89,0c5.53,0,8.89-.89,10.74-3.37a58.17,58.17,0,0,0,4.7-8.51C58.3,22.6,52.33,22.57,52.33,22.57Z\"\/\u003E\u003Cpath class=\"a\" d=\"M25.88,29.91c1.95,0,4.11-2.2,4.11-2.2l.68-.85s4.24-4.49-7.24-4.49S9.87,26.9,9.87,26.9h6.61a8.29,8.29,0,0,1,1.65-1.06c.85-.38,1.57-.51,4-.51s2.29.85,1.61,2.12-3,1.23-3,1.23H16l-1.86,3h4.74c2.84,0,1.57,1.78,1.57,1.78l-.38.55s-1.27,1.61-5.29,1.61-3-2.37-3-2.37H5.25c-3.3,5.89,5.51,5.55,5.51,5.55h5a18.26,18.26,0,0,0,6.35-1.31,9.66,9.66,0,0,0,5.17-4.36C28.71,30.75,25.88,29.91,25.88,29.91Z\"\/\u003E\u003C\/svg\u003E';\nccppm_global.ico_is3D_white = '\u003Csvg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 64 64\"\u003E\u003Cdefs\u003E\u003Cstyle\u003E.a{fill:#FFFFFF;} .a{fill:cmyk(0, 0, 0, 0)}\u003C\/style\u003E\u003C\/defs\u003E\u003Ctitle\u003EIs 3D\u003C\/title\u003E\u003Cpath class=\"a\" d=\"M57.14,23.52c1.2.6,2.06,1.72,1.08,3.81a62.12,62.12,0,0,1-5,9.09c-1.84,2.47-5.09,3.46-10.31,3.58l-9.6.08H26.44l-11.54.07-5.34,0S3.27,40.37,2.91,37c-1.32,4.9,6.85,4.55,6.85,4.55l5.6,0,12.11-.07h7.18l10.07-.09c5.48-.13,8.89-1.17,10.81-3.76a65.14,65.14,0,0,0,5.26-9.53C62.5,24.55,58.86,23.71,57.14,23.52Z\"\/\u003E\u003Cpath class=\"a\" d=\"M52.33,22.57,36.79,22.5l-2.06,3.43-.11.16h.65s7.66,0,11.56,0,2.32,2.73,2.32,2.73-.38.7-2,3.46-5.59,3-5.59,3H35.1l4-6.62h-6l-3.51,5.44h0l-3,4.67H33l0,0,7.89,0c5.53,0,8.89-.89,10.74-3.37a58.17,58.17,0,0,0,4.7-8.51C58.3,22.6,52.33,22.57,52.33,22.57Z\"\/\u003E\u003Cpath class=\"a\" d=\"M25.88,29.91c1.95,0,4.11-2.2,4.11-2.2l.68-.85s4.24-4.49-7.24-4.49S9.87,26.9,9.87,26.9h6.61a8.29,8.29,0,0,1,1.65-1.06c.85-.38,1.57-.51,4-.51s2.29.85,1.61,2.12-3,1.23-3,1.23H16l-1.86,3h4.74c2.84,0,1.57,1.78,1.57,1.78l-.38.55s-1.27,1.61-5.29,1.61-3-2.37-3-2.37H5.25c-3.3,5.89,5.51,5.55,5.51,5.55h5a18.26,18.26,0,0,0,6.35-1.31,9.66,9.66,0,0,0,5.17-4.36C28.71,30.75,25.88,29.91,25.88,29.91Z\"\/\u003E\u003C\/svg\u003E';\n","type":"javascript","elements_count":"","master_select_render":"","elements_ids":""}